<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html"><meta property="og:site_name" content="DBC-Wiki"><meta property="og:title" content="디스크가 없는 네트워크 부트 서버"><meta property="og:description" content="DBC-CloudCyberCafe 프로젝트는 iPXE를 사용하여 부팅하고, 디스크 없는 서비스에 iSCSI를 사용하고, 스토리지 관리에 lvm2를 사용하고, API 인터페이스에 thrift를 사용하고, 콘솔 인터페이스를 제공하기 위해 plotly를 사용합니다. 이들은 함께 고객에게 디스크 없는 네트워크 부팅 서비스를..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-03-24T07:41:27.000Z"><meta property="article:modified_time" content="2023-03-24T07:41:27.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"디스크가 없는 네트워크 부트 서버","image":[""],"dateModified":"2023-03-24T07:41:27.000Z","author":[]}</script><title>디스크가 없는 네트워크 부트 서버 | DBC-Wiki</title><meta name="description" content="DBC-CloudCyberCafe 프로젝트는 iPXE를 사용하여 부팅하고, 디스크 없는 서비스에 iSCSI를 사용하고, 스토리지 관리에 lvm2를 사용하고, API 인터페이스에 thrift를 사용하고, 콘솔 인터페이스를 제공하기 위해 plotly를 사용합니다. 이들은 함께 고객에게 디스크 없는 네트워크 부팅 서비스를...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/DBC-Wiki/assets/style-09b2543d.css" as="style"><link rel="stylesheet" href="/DBC-Wiki/assets/style-09b2543d.css">
    <link rel="modulepreload" href="/DBC-Wiki/assets/app-feff63bc.js"><link rel="modulepreload" href="/DBC-Wiki/assets/framework-2c7d842c.js"><link rel="modulepreload" href="/DBC-Wiki/assets/diskless-netboot-server.html-ee549c6b.js"><link rel="modulepreload" href="/DBC-Wiki/assets/diskless-netboot-server.html-9ec6ec72.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container no-sidebar has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/DBC-Wiki/" class="brand"><img class="logo" src="/DBC-Wiki/images/dbc.icon.png" alt="DBC-Wiki"><!----><span class="site-name hide-in-pad">DBC-Wiki</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/DBC-Wiki/" class="nav-link" aria-label="DBC-Wiki Home"><span class="font-icon icon iconfont icon-home" style=""></span>DBC-Wiki Home<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="了解DBC"><span class="title"><!---->了解DBC</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>DBC介绍</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-applications.html" class="nav-link" aria-label="DBC 的应用领域"><!---->DBC 的应用领域<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-ecology.html" class="nav-link" aria-label="DBC 生态"><!---->DBC 生态<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-profit-trade.html" class="nav-link" aria-label="DBC 的获取与交易"><!---->DBC 的获取与交易<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-gpu-rent.html" class="nav-link" aria-label="租用 GPU"><!---->租用 GPU<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/rent-virtual.html" class="nav-link" aria-label="虚拟机租用教程"><!---->虚拟机租用教程<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-community.html" class="nav-link" aria-label="DBC 社群"><!---->DBC 社群<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-hot-link.html" class="nav-link" aria-label="DBC 常用链接"><!---->DBC 常用链接<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-audit-report.html" class="nav-link" aria-label="DBC 审计报告"><!---->DBC 审计报告<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>云平台运营</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/cloud-platform-operation/initial-operation-process.html" class="nav-link" aria-label="GPU 云平台初期运营流程"><!---->GPU 云平台初期运营流程<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/cloud-platform-operation/support-for-cloud-platform.html" class="nav-link" aria-label="基金会关于 GPU 云平台扶持方案"><!---->基金会关于 GPU 云平台扶持方案<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>社区治理</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/council-outreach-proposal.html" class="nav-link" aria-label="理事会关于发动社区成员全球推广的提案"><!---->理事会关于发动社区成员全球推广的提案<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/dbc-council-establishment-notice.html" class="nav-link" aria-label="关于成立深脑链理事会的通知"><!---->关于成立深脑链理事会的通知<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/treasury-usage.html" class="nav-link" aria-label="DBC 国库资金用途"><!---->DBC 国库资金用途<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/dbc-council.html" class="nav-link" aria-label="关于推进 DBC 理事会成员选举及提案的说明"><!---->关于推进 DBC 理事会成员选举及提案的说明<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/join-council.html" class="nav-link" aria-label="DBC 理事会参选流程"><!---->DBC 理事会参选流程<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/council-meeting-procedures.html" class="nav-link" aria-label="DBC 理事会会议流程（试运行版）"><!---->DBC 理事会会议流程（试运行版）<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/proposing-referenda.html" class="nav-link" aria-label="教程 | 如何在 DBC 主网发起公投"><!---->教程 | 如何在 DBC 主网发起公投<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/voting-referenda.html" class="nav-link" aria-label="教程 | 如何参与 DBC 主网公投投票"><!---->教程 | 如何参与 DBC 主网公投投票<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/apply-treasury.html" class="nav-link" aria-label="教程 | DBC Treasury 资金申请流程"><!---->教程 | DBC Treasury 资金申请流程<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/dbc-nft.html" class="nav-link" aria-label="为迎接主网上线，深脑链（DBC）NFT 免费赠予社区"><!---->为迎接主网上线，深脑链（DBC）NFT 免费赠予社区<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/staking-voting.html" class="nav-link" aria-label="教程 | DBC 创建账号、质押、节点选举投票"><!---->教程 | DBC 创建账号、质押、节点选举投票<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="DBC AI公链"><span class="title"><!---->DBC AI公链</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>AI容器制作</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-aipublicchain/docker_build.html" class="nav-link" aria-label="如何使用"><!---->如何使用<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="DBC议案"><span class="title"><!---->DBC议案</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/DBC-Wiki/council/2.html" class="nav-link" aria-label="/council/2"><!---->/council/2<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/12.html" class="nav-link" aria-label="Proposal 12/Motion 14: 资助创建社区应用程序以托管财务、维基等"><!---->Proposal 12/Motion 14: 资助创建社区应用程序以托管财务、维基等<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/13.html" class="nav-link" aria-label="Proposal 13/Motion 15: 为明年的持续托管、网络服务和功能开发提供资金"><!---->Proposal 13/Motion 15: 为明年的持续托管、网络服务和功能开发提供资金<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/15.html" class="nav-link" aria-label="Proposal 15/Motion 17: 为错过的人打开交换"><!---->Proposal 15/Motion 17: 为错过的人打开交换<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/16.html" class="nav-link" aria-label="Proposal 16,18,19: GPU Cloud Computing"><!---->Proposal 16,18,19: GPU Cloud Computing<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/17.html" class="nav-link" aria-label="Proposal 17: Additional Funding to Support and Help DBC Deploy GPU Computing Power in North America"><!---->Proposal 17: Additional Funding to Support and Help DBC Deploy GPU Computing Power in North America<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/22.html" class="nav-link" aria-label="Proposal 22：关于 NEO 链上未兑换 DBC 销毁的提案"><!---->Proposal 22：关于 NEO 链上未兑换 DBC 销毁的提案<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/23.html" class="nav-link" aria-label="Proposal 23/motion 41"><!---->Proposal 23/motion 41<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/25.html" class="nav-link" aria-label="Proposal 25: Additional Proposals for DBC Galaxy Race Rule by DaiShu community"><!---->Proposal 25: Additional Proposals for DBC Galaxy Race Rule by DaiShu community<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/26.html" class="nav-link" aria-label="Proposal 26: Incentive Program for Cloud Platform Providers"><!---->Proposal 26: Incentive Program for Cloud Platform Providers<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/27.html" class="nav-link" aria-label="Proposal 27: NexuiCom is applying for a Gold/Silver NFT"><!---->Proposal 27: NexuiCom is applying for a Gold/Silver NFT<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/28.html" class="nav-link" aria-label="Proposal 28: Increasing the Amount of DBC Available to the Treasury"><!---->Proposal 28: Increasing the Amount of DBC Available to the Treasury<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/29.html" class="nav-link" aria-label="Proposal 29: 目前未兑换的 9.8 亿 DBC 全部销毁"><!---->Proposal 29: 目前未兑换的 9.8 亿 DBC 全部销毁<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/30.html" class="nav-link" aria-label="Proposal 30: 现在开启阶梯销毁"><!---->Proposal 30: 现在开启阶梯销毁<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/31.html" class="nav-link" aria-label="Proposal 31: 保障算池运维成本"><!---->Proposal 31: 保障算池运维成本<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/32.html" class="nav-link" aria-label="Proposal 32: 5000 到 10000 卡进行阶梯销毁"><!---->Proposal 32: 5000 到 10000 卡进行阶梯销毁<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/33.html" class="nav-link" aria-label="Proposal 33: 财政部提案 33"><!---->Proposal 33: 财政部提案 33<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/34.html" class="nav-link" aria-label="Proposal 34/Motion 63"><!---->Proposal 34/Motion 63<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/35.html" class="nav-link" aria-label="Proposal 35/Motions 65: 申请深脑链全方位落地韩国（DBC-KOREA）资金费用"><!---->Proposal 35/Motions 65: 申请深脑链全方位落地韩国（DBC-KOREA）资金费用<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="链上操作说明"><span class="title"><!---->链上操作说明</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>参与 DBC 深脑链说明</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/dbc-chain-params.html" class="nav-link" aria-label="参与 DBC 深脑链"><!---->参与 DBC 深脑链<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/generate-new-account.html" class="nav-link" aria-label="生成新账户"><!---->生成新账户<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/join-dbc-network.html" class="nav-link" aria-label="成为 DBC 验证节点"><!---->成为 DBC 验证节点<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/dbc-ai-public-chain-pos.html" class="nav-link" aria-label="成为DBC AI 公链验证节点"><!---->成为DBC AI 公链验证节点<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/run-archive-node.html" class="nav-link" aria-label="如何运行同步节点？"><!---->如何运行同步节点？<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/staking-dbc-and-voting.html" class="nav-link" aria-label="成为 DBC 提名人"><!---->成为 DBC 提名人<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/fast-track.html" class="nav-link" aria-label="快速公投"><!---->快速公投<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/council-proposal.html" class="nav-link" aria-label="议员提案流程"><!---->议员提案流程<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/common-questions.html" class="nav-link" aria-label="质押/解绑常见问题"><!---->质押/解绑常见问题<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/dbc-chain-upgrade.html" class="nav-link" aria-label="DBC-Chain 验证节点升级教程"><!---->DBC-Chain 验证节点升级教程<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>链上算力平台</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/dbc-chain-logic.html" class="nav-link" aria-label="DBC 链上模块说明"><!---->DBC 链上模块说明<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-reward-model.html" class="nav-link" aria-label="机器奖励模型"><!---->机器奖励模型<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-slash-model.html" class="nav-link" aria-label="机器惩罚机制"><!---->机器惩罚机制<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/bonding-machine.html" class="nav-link" aria-label="机器上链步骤"><!---->机器上链步骤<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/unbonding-machine.html" class="nav-link" aria-label="机器下链步骤"><!---->机器下链步骤<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/become-onchain-committee.html" class="nav-link" aria-label="DBC 链上委员会"><!---->DBC 链上委员会<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-verification.html" class="nav-link" aria-label="委员会处理机器上链请求"><!---->委员会处理机器上链请求<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/rent-machine.html" class="nav-link" aria-label="链上机器租用"><!---->链上机器租用<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/report-machine-fault.html" class="nav-link" aria-label="租用人举报机器故障"><!---->租用人举报机器故障<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/maintain-machine.html" class="nav-link" aria-label="委员会处理租用人的报告"><!---->委员会处理租用人的报告<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/onchain-errors.html" class="nav-link" aria-label="链上错误说明"><!---->链上错误说明<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>链上API</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-rpc-readme.html" class="nav-link" aria-label="DBC-Blockchain 主网 RPC 说明"><!---->DBC-Blockchain 主网 RPC 说明<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-rpc.html" class="nav-link" aria-label="DBC-Blockchain 主网 RPC"><!---->DBC-Blockchain 主网 RPC<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-storage.html" class="nav-link" aria-label="链上存储"><!---->链上存储<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="部署GPU云平台"><span class="title"><!---->部署GPU云平台</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/DBC-Wiki/gpu-cloud/dbc-gpu-cloud-service.html" class="nav-link" aria-label="DBC GPU 云服务"><!---->DBC GPU 云服务<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="安装&amp;升级DBC节点"><span class="title"><!---->安装&amp;升级DBC节点</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>安装和升级DBC节点</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html" class="nav-link" aria-label="安装 DBC 算力节点"><!---->安装 DBC 算力节点<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/update-dbc-compute-node.html" class="nav-link" aria-label="升级 DBC 算力节点"><!---->升级 DBC 算力节点<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-update-dbc-client.html" class="nav-link" aria-label="安装和升级 DBC 客户端"><!---->安装和升级 DBC 客户端<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/dbc-bare-metal-node.html" class="nav-link" aria-label="DBC 裸金属节点"><!---->DBC 裸金属节点<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/deploy_image_server.html" class="nav-link" aria-label="部署镜像中心"><!---->部署镜像中心<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>DBC客户端-HTTP请求</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/install-tool.html" class="nav-link" aria-label="准备工作"><!---->准备工作<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/http-request-format.html" class="nav-link" aria-label="Http 请求格式说明"><!---->Http 请求格式说明<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/http-api.html" class="nav-link" aria-label="HTTP 客户端请求 API"><!---->HTTP 客户端请求 API<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>创建windows虚拟机使用omniverse</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/create-win-machine-omniverse/create-win-machine-omniverse.html" class="nav-link" aria-label="创建 windows 虚拟机应用 omniverse"><!---->创建 windows 虚拟机应用 omniverse<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>DBC监控</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-monitor/http-monitor-api.html" class="nav-link" aria-label="虚拟机监控的 HTTP 客户端 API"><!---->虚拟机监控的 HTTP 客户端 API<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-monitor/monitoring-items.html" class="nav-link" aria-label="监控项"><!---->监控项<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-monitor/monitoring-protocol.html" class="nav-link" aria-label="监控数据交换协议"><!---->监控数据交换协议<!----></a></li></ul></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button class="dropdown-title" type="button" aria-label="选择语言"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html" class="router-link-active router-link-exact-active nav-link active" aria-label="简体中文"><!---->简体中文<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/en/" class="nav-link" aria-label="English"><!---->English<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/ko/" class="nav-link" aria-label="한국어"><!---->한국어<!----></a></li></ul></button></div></div><div class="nav-item"><a class="repo-link" href="https://github.com/DeepBrainChain/DBC-Wiki" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->디스크가 없는 네트워크 부트 서버</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-01-18T03:39:27.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 4 分钟</span><meta property="timeRequired" content="PT4M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#ipxe" class="router-link-active router-link-exact-active toc-link level2">iPXE</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#dhcp" class="router-link-active router-link-exact-active toc-link level3">DHCP</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#tftp" class="router-link-active router-link-exact-active toc-link level3">TFTP</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#http" class="router-link-active router-link-exact-active toc-link level3">HTTP</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#ipxe-file-configuration" class="router-link-active router-link-exact-active toc-link level3">iPXE file configuration</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#iscsi" class="router-link-active router-link-exact-active toc-link level2">iSCSI</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#iscsi-클라이언트" class="router-link-active router-link-exact-active toc-link level3">iSCSI 클라이언트</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#iscsi-서버측" class="router-link-active router-link-exact-active toc-link level3">iSCSI 서버측</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#linux-io" class="router-link-active router-link-exact-active toc-link level3">Linux-IO</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#lvm2" class="router-link-active router-link-exact-active toc-link level2">lvm2</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#thrift" class="router-link-active router-link-exact-active toc-link level2">thrift</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/dbc-cloud-cybercafe/diskless-netboot-server.html#diskless-console" class="router-link-active router-link-exact-active toc-link level2">diskless console</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="디스크가-없는-네트워크-부트-서버" tabindex="-1"><a class="header-anchor" href="#디스크가-없는-네트워크-부트-서버" aria-hidden="true">#</a> 디스크가 없는 네트워크 부트 서버</h1><p>DBC-CloudCyberCafe 프로젝트는 iPXE를 사용하여 부팅하고, 디스크 없는 서비스에 iSCSI를 사용하고, 스토리지 관리에 lvm2를 사용하고, API 인터페이스에 thrift를 사용하고, 콘솔 인터페이스를 제공하기 위해 plotly를 사용합니다. 이들은 함께 고객에게 디스크 없는 네트워크 부팅 서비스를 제공하므로 디스크 없는 네트워크 부팅 서버를 배포하는 것은 이러한 모듈을 별도로 배포하는 것입니다. 서버 시스템은 Ubuntu 20.04를 사용합니다.</p><h2 id="ipxe" tabindex="-1"><a class="header-anchor" href="#ipxe" aria-hidden="true">#</a> iPXE</h2><p>PXE는 인텔이 네트워크 카드에서 부팅하도록 제안했습니다. DHCP를 통해 IP를 얻고 TFTP를 통해 시작 파일을 얻습니다. iPXE는 PXE의 향상된 확장 버전으로 HTTP와 같은 여러 획득 방법을 지원하므로 DHCP, TFTP 및 HTTP 서비스를 배포해야 합니다.</p><h3 id="dhcp" tabindex="-1"><a class="header-anchor" href="#dhcp" aria-hidden="true">#</a> DHCP</h3><p>동적 호스트 구성 프로토콜 DHCP는 RFC 1541(RFC 2131로 대체됨)에서 정의한 표준 프로토콜로, 서버에서 IP 주소 및 구성 정보를 클라이언트에 동적으로 할당할 수 있습니다. 그리고 PXE 서비스는 DHCP 프로토콜의 bootfile 필드를 사용하여 시스템에 PXE 시작 파일을 알려야 합니다. PC방 등에서 이미 DHCP 서비스(라우터에서 제공하는 DHCP 주소 할당)가 있는 경우 dnsmasq를 DHCP 프록시로 사용하는 것이 좋습니다. DHCP 서비스가 없는 경우 isc-dhcp-server를 직접 사용하여 자체 서브넷을 구성하는 것이 좋습니다. DBC-CloudCyberCafe 프로젝트는 기본적으로 dnsmasq 서비스를 사용합니다. 많은 고객 환경에 이미 라우터가 있고 부트 파일과 같은 필드를 제공하기 위해 DHCP 프로토콜 에이전트 역할을 하는 데 dnsmasq만 필요하기 때문입니다. 현재 dnsmasq를 설치하고 dnsmasq.service를 성공적으로 시작하기만 하면 됩니다. 특정 구성은 DBC-CloudCyberCafe 프로젝트의 콘솔 프로그램에 의해 자동으로 생성됩니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># install dnsmasq
sudo apt install dnsmasq
# view dnsmasq service status
systemctl status dnsmasq.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">注意！</p><p>우분투 시스템의 기본 systemd-resolved는 DNS 확인을 위해 포트 53을 수신합니다. dnsmasq.service 서비스 시작이 실패할 수 있습니다. 많은 솔루션이 있습니다. 참조: <code>systemd-resolve --interface=eno1 --set-dns=223.5.5.5</code> 명령을 사용하십시오. 네트워크 카드 eno1의 DNS 주소를 223.5.5.5로 수동 설정한 다음 systemd-resolved.service를 다시 시작하십시오. 서비스를 시작한 다음 dnsmasq.service 서비스를 시작하여 성공하십시오.</p></div><p>또한 isc-dhcp-server를 설치해야 하는 경우 다음 단계를 참조하십시오.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># install isc-dhcp-server
sudo apt install isc-dhcp-server
# view isc-dhcp-server service status
systemctl status isc-dhcp-server.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">注意！</p><p>isc-dhcp-server 서비스를 사용하려면 /etc/default/isc-dhcp-server 파일에서 특정 네트워크 카드를 설정하고 DHCP 서비스를 활성화할 네트워크 카드를 지정해야 합니다.</p></div><h3 id="tftp" tabindex="-1"><a class="header-anchor" href="#tftp" aria-hidden="true">#</a> TFTP</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># install TFTP
sudo apt install tftpd-hpa
# view tftpd-hpa service status
systemctl status tftpd-hpa.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>tftpd-hpa는 기본적으로 /srv/tftp 폴더를 스토리지 디렉토리로 사용합니다. 이 디렉토리에 undionly.kpxe 및 ipxe.efi를 넣어야 합니다. 이 두 파일은 ipxe 공식 홈페이지에서 제공하는 파일을 사용하시면 됩니다. 사용자 지정 스크립트를 사용하여 직접 파일을 컴파일하는 것이 좋으며 iPXE를 컴파일하는 방법은 나중에 소개합니다.</p><p>iPXE 공식 웹사이트에서 제공하는 시작 파일의 다운로드 주소는 다음과 같습니다:</p><ul><li>undionly.kpxe: <a href="https://boot.ipxe.org/undionly.kpxe" target="_blank" rel="noopener noreferrer">https://boot.ipxe.org/undionly.kpxe<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>ipxe.efi: <a href="https://boot.ipxe.org/ipxe.efi" target="_blank" rel="noopener noreferrer">https://boot.ipxe.org/ipxe.efi<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h3 id="http" tabindex="-1"><a class="header-anchor" href="#http" aria-hidden="true">#</a> HTTP</h3><p>iPXE는 보다 안정적이고 신뢰할 수 있는 HTTP 프로토콜을 사용하여 필요한 파일을 다운로드할 수 있습니다. apache 또는 nginx를 사용하여 HTTP 서버를 구축할 수 있습니다. 아래 예를 들어 nginx를 사용하십시오.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># install nginx，refer to http://nginx.org/en/linux_packages.html#Ubuntu
sudo apt install nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>/etc/nginx/nginx.conf 파일의 http 블록에 다음 서버 블록을 추가합니다：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>    server {
        listen    8080;
        root      /var/www/file;
        location / {
            autoindex on;# 디렉토리 표시
            autoindex_exact_size on;# 파일 크기 표시
            autoindex_localtime on;# 파일 시간 표시
        }
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>마지막으로 nginx를 다시 시작하여 /var/www/file 디렉토리를 파일 서버로 빌드하고 8080 포트 URL을 사용하여 브라우저에서 액세스합니다.</p><p>/var/www/file 디렉토리 구조는 다음과 같습니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>dbtu@dbtu:/var/www/file$ tree
.
├── ipxe
│   ├── boot.ipxe
│   ├── boot.ipxe.cfg
│   ├── cfg
│   │   ├── 404.html
│   │   ├── mac-0050562ca04b.ipxe.cfg
│   │   ├── mac-40b0767ee231.ipxe.cfg
│   │   └── mac-88aedd0508fa.ipxe.cfg
│   └── wimboot
├── netboot
│   ├── ldlinux.c32 -&gt; ubuntu-installer/amd64/boot-screens/ldlinux.c32
│   ├── netboot.tar.gz
│   ├── pxelinux.0 -&gt; ubuntu-installer/amd64/pxelinux.0
│   ├── pxelinux.cfg -&gt; ubuntu-installer/amd64/pxelinux.cfg
│   ├── ubuntu-installer
│   │   └── amd64
│   │       ├── boot-screens
│   │       │   ├── adtxt.cfg
│   │       │   ├── exithelp.cfg
│   │       │   ├── f10.txt
│   │       │   ├── f1.txt
│   │       │   ├── f2.txt
│   │       │   ├── f3.txt
│   │       │   ├── f4.txt
│   │       │   ├── f5.txt
│   │       │   ├── f6.txt
│   │       │   ├── f7.txt
│   │       │   ├── f8.txt
│   │       │   ├── f9.txt
│   │       │   ├── ldlinux.c32
│   │       │   ├── libcom32.c32
│   │       │   ├── libutil.c32
│   │       │   ├── menu.cfg
│   │       │   ├── prompt.cfg
│   │       │   ├── rqtxt.cfg
│   │       │   ├── splash.png
│   │       │   ├── stdmenu.cfg
│   │       │   ├── syslinux.cfg
│   │       │   ├── txt.cfg
│   │       │   └── vesamenu.c32
│   │       ├── initrd.gz
│   │       ├── linux
│   │       ├── pxelinux.0
│   │       └── pxelinux.cfg
│   │           └── default -&gt; ../boot-screens/syslinux.cfg
│   └── version.info
├── ubuntu
│   └── preseed.cfg
└── winpe
    ├── amd64
    │   ├── fwfiles
    │   │   ├── efisys.bin
    │   │   └── etfsboot.com
    │   ├── media
    │   │   ├── bg-bg
    │   │   │   └── bootmgr.efi.mui
    │   │   ├── Boot
    │   │   │   ├── BCD
    │   │   │   ├── bg-bg
    │   │   │   │   └── bootmgr.exe.mui
    │   │   │   ├── bootfix.bin
    │   │   │   ├── boot.sdi
    │   │   │   ├── en-us
    │   │   │   │   ├── bootmgr.exe.mui
    │   │   │   │   └── memtest.exe.mui
    │   │   │   ├── Fonts
    │   │   │   │   ├── chs_boot.ttf
    │   │   │   │   ├── cht_boot.ttf
    │   │   │   │   ├── jpn_boot.ttf
    │   │   │   │   ├── kor_boot.ttf
    │   │   │   │   ├── malgun_boot.ttf
    │   │   │   │   ├── malgunn_boot.ttf
    │   │   │   │   ├── meiryo_boot.ttf
    │   │   │   │   ├── meiryon_boot.ttf
    │   │   │   │   ├── msjh_boot.ttf
    │   │   │   │   ├── msjhn_boot.ttf
    │   │   │   │   ├── msyh_boot.ttf
    │   │   │   │   ├── msyhn_boot.ttf
    │   │   │   │   ├── segmono_boot.ttf
    │   │   │   │   ├── segoen_slboot.ttf
    │   │   │   │   ├── segoe_slboot.ttf
    │   │   │   │   └── wgl4_boot.ttf
    │   │   │   ├── memtest.exe
    │   │   │   ├── Resources
    │   │   │   │   └── bootres.dll
    │   │   │   ├── zh-cn
    │   │   │   │   ├── bootmgr.exe.mui
    │   │   │   │   └── memtest.exe.mui
    │   │   │   └── zh-tw
    │   │   │       ├── bootmgr.exe.mui
    │   │   │       └── memtest.exe.mui
    │   │   ├── bootmgr
    │   │   ├── bootmgr.efi
    │   │   ├── EFI
    │   │   │   ├── Boot
    │   │   │   │   ├── bootx64.efi
    │   │   │   │   └── en-us
    │   │   │   │       └── bootx64.efi.mui
    │   │   │   └── Microsoft
    │   │   │       └── Boot
    │   │   │           ├── BCD
    │   │   │           ├── en-us
    │   │   │           │   └── memtest.efi.mui
    │   │   │           ├── Fonts
    │   │   │           │   ├── chs_boot.ttf
    │   │   │           │   ├── cht_boot.ttf
    │   │   │           │   ├── jpn_boot.ttf
    │   │   │           │   ├── kor_boot.ttf
    │   │   │           │   ├── malgun_boot.ttf
    │   │   │           │   ├── meiryo_boot.ttf
    │   │   │           │   ├── msjh_boot.ttf
    │   │   │           │   ├── msyh_boot.ttf
    │   │   │           │   ├── segmono_boot.ttf
    │   │   │           │   ├── segoe_slboot.ttf
    │   │   │           │   └── wgl4_boot.ttf
    │   │   │           ├── memtest.efi
    │   │   │           ├── Resources
    │   │   │           │   └── bootres.dll
    │   │   │           ├── zh-cn
    │   │   │           │   └── memtest.efi.mui
    │   │   │           └── zh-tw
    │   │   │               └── memtest.efi.mui
    │   │   ├── en-us
    │   │   │   └── bootmgr.efi.mui
    │   │   ├── sources
    │   │   │   └── boot.wim
    │   └── mount
    ├── lightningWinPE
    │   ├── boot
    │   │   ├── bcd
    │   │   └── boot.sdi
    │   ├── bootmgr
    │   ├── bootmgr.efi
    │   ├── efi
    │   │   ├── boot
    │   │   │   └── bootx64.efi
    │   │   └── microsoft
    │   │       └── boot
    │   │           └── bcd
    │   └── sources
    │       └── BOOT.WIM
    ├── wepe
    │   ├── EFI
    │   │   ├── BOOT
    │   │   │   └── bootx64.efi
    │   │   └── MICROSOFT
    │   │       └── BOOT
    │   │           ├── BCD
    │   │           └── FONTS
    │   │               └── wgl4_boot.ttf
    │   ├── WEIPE
    │   └── WEPE
    │       ├── B64
    │       ├── FONTS
    │       │   └── wgl4_boot.ttf
    │       ├── MESSAGE
    │       ├── PELOAD
    │       ├── WEIPE
    │       ├── WEPE64
    │       ├── WEPE64.WIM
    │       ├── WEPE.INI
    │       ├── WEPE.SDI
    │       └── WEPE.TXT
    └── WePE64_V2.2.iso
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>iPXE 시작 스크립트는 ipxe 폴더에 저장됩니다. 여기서 mac-000c29c63944.ipxe.cfg는 콜론 없이 모두 소문자 형식의 MAC 주소 이름을 따릅니다. 부팅된 각 머신에는 콘솔 프로그램에 의해 자동으로 구성되는 해당 구성 파일이 있어야 합니다.</li><li>wimboot 파일은 <a href="https://github.com/ipxe/wimboot/releases%EC%97%90%EC%84%9C" target="_blank" rel="noopener noreferrer">https://github.com/ipxe/wimboot/releases에서<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 다운로드됩니다.</li><li>윈도 시스템 설치에 사용되는 PE 파일은 winpe에 저장되는데 당분간은 필요하지 않으며 개발 및 테스트용으로 사용된다.</li><li>netboot는 네트워크에 Ubuntu를 설치하기 위해 사용하는 파일로 Alibaba Cloud 또는 Tsinghua University에서 다운로드할 수 있으며 <a href="http://www.archive.ubuntu.com/ubuntu/dists/bionic-updates/main/installer-amd64/current/images/netboot/netboot.tar.gz" target="_blank" rel="noopener noreferrer">파일 다운로드 주소<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>를 참조하십시오 고객이 Ubuntu 시스템 이미지가 필요한 경우 이 파일을 다운로드해야 합니다.</li><li>ubuntu/preseed.cfg는 우분투의 네트워크 설치에서 사용하는 무인 구성 파일입니다.</li></ul><p>ipxe/boot.ipxe 파일의 내용은 다음과 같습니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!ipxe
chain --autofree boot.ipxe.cfg
chain --replace cfg/mac-${mac:hexraw}.ipxe.cfg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ipxe/boot.ipxe.cfg 파일의 내용은 다음과 같습니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!ipxe
set iscsi-server 192.168.1.159
set base-url http://192.168.1.159:8080
set menu-timeout 5000
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>그 중 iscsi-server의 IP 주소는 디스크가 없는 netboot 서버의 IP 주소이고 base-url은 HTTP 서비스의 url입니다. 실제 상황에 따라 이러한 내용을 설정하십시오.</p><h3 id="ipxe-file-configuration" tabindex="-1"><a class="header-anchor" href="#ipxe-file-configuration" aria-hidden="true">#</a> iPXE file configuration</h3><p>iPXE를 컴파일하는 과정은 <a href="https://ipxe.org/download%EB%A5%BC" target="_blank" rel="noopener noreferrer">https://ipxe.org/download를<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 참조할 수 있습니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>git clone https://github.com/ipxe/ipxe.git
cd ipxe/src
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ipxe/src 폴더에 script.ipxe를 생성합니다. 파일 내용은 다음과 같습니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!ipxe
dhcp
chain --autofree http://192.168.1.2:8080/ipxe/boot.ipxe
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>여기서 192.168.1.2는 디스크 없는 netboot 서버의 IP 주소이고 포트 8080은 nginx에서 구성한 HTTP 서비스의 포트입니다. 실제 구성에 따라 입력하십시오.</p><p>그런 다음 script.ipxe를 사용하여 iPXE 부팅 파일을 컴파일하고 HTTP 서비스에서 제공하는 boot.ipxe 구성을 PXE 부팅이 시작된 후 자동으로 로드할 수 있습니다. 다음 명령을 사용하여 컴파일합니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>make bin-x86_64-pcbios/undionly.kpxe EMBED=script.ipxe
make bin-x86_64-efi/ipxe.efi EMBED=script.ipxe
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>컴파일된 undionly.kpxe 및 ipxe.efi 파일을 TFTP 서비스 디렉터리에 복사합니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo cp bin-x86_64-pcbios/undionly.kpxe /srv/tftp/
sudo cp bin-x86_64-efi/ipxe.efi /srv/tftp/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="iscsi" tabindex="-1"><a class="header-anchor" href="#iscsi" aria-hidden="true">#</a> iSCSI</h2><p>iSCSI (Internet Small Computer System Interface, pronounced /ˈаɪskʌzi/), IP-SAN이라고도 하는 Internet Small Computer System Interface는 IETF에서 제안하고 2003년에 발표한 SCSI-3 프로토콜과 인터넷 기반의 스토리지 기술입니다. 2010년 2월 11일에 공식 표준이 되었습니다.</p><p>iSCSI는 TCP/IP 포트 860 및 3260을 통신 채널로 사용합니다. iSCSI 프로토콜을 사용하여 두 대의 컴퓨터 간에 SCSI 명령을 교환함으로써 컴퓨터는 고속 LAN 허브를 통해 SAN을 로컬 저장 장치로 에뮬레이트할 수 있습니다.</p><p>기본적으로 iSCSI를 사용하면 두 호스트가 IP 네트워크를 통해 서로 협상한 다음 SCSI 명령을 교환할 수 있습니다. 이러한 방식으로 iSCSI는 SAN(Storage Area Network)을 생성하는 광역 네트워크로 일반적인 고성능 로컬 스토리지 버스를 에뮬레이션합니다. 일부 SAN 프로토콜과 달리 iSCSI에는 전용 케이블 연결이 필요하지 않습니다. 기존 스위칭 및 IP 인프라에서 실행할 수 있습니다.</p><p>네트워크 부팅을 지원하는 NIC(네트워크 인터페이스 장치)가 있는 컴퓨터의 경우 iSCSI 부팅을 지원하도록 추가 DHCP 서버를 구성할 수 있습니다. 이 경우 NIC는 PXE 또는 BOOTP 부팅 이미지를 제공하는 DHCP 서버를 찾습니다. DHCP 서버는 부팅 네트워크 카드의 MAC 주소에 따라 해당 iSCSI 부팅 대상 장치/볼륨 정보를 제공하고 컴퓨터는 iSCSI에서 원격 부팅 프로세스를 시작할 수 있습니다.</p><p>iSCSI는 서버와 클라이언트로 나눌 수 있습니다. 저장 장치를 공유하려면 서버에 scsi 대상을 설치해야 하며 대상에 연결하려면 클라이언트에 iscsi 초기자를 설치해야 합니다. 대상이 공유하는 디바이스는 로컬 이니시에이터에 마운트해야 하며 분할 및 포맷할 수 있습니다.</p><h3 id="iscsi-클라이언트" tabindex="-1"><a class="header-anchor" href="#iscsi-클라이언트" aria-hidden="true">#</a> iSCSI 클라이언트</h3><p>iSCSI 초기자는 I/O 작업을 시작하는 것입니다. 탐색 프로세스를 통해 원격 블록 장치를 요청해야 합니다. 대상과 지속적인 연결을 설정할 수 있습니다. Linux 시스템에서는 open-iscsi 소프트웨어 패키지를 사용하여 구현을 시뮬레이션할 수 있으며 Windows 10 이상 시스템에서는 내장된 iSCSI 초기자를 사용하여 달성할 수 있습니다.</p><h3 id="iscsi-서버측" tabindex="-1"><a class="header-anchor" href="#iscsi-서버측" aria-hidden="true">#</a> iSCSI 서버측</h3><p>iSCSI 대상은 I/O 작업의 실행자입니다. 이니시에이터(이니시에이터)를 위해 하나 이상의 블록 장치를 내보내야 합니다. Linux 시스템에서는 두 개의 대상 도구, 즉 tgt와 targetcli를 사용할 수 있습니다. 여기서는 먼저 TGT 방법을 소개합니다. TGT는 Fujita Tomonori가 2006년 말 Linux 커널에 SCSI 대상 프레임워크(STGT/TGT)를 도입한 것입니다. 커널이 대상 드라이버를 제어하도록 도울 수 있는 커널의 라이브러리. TGT는 사용자 모드에서 구현된 iscsi 대상이며 모든 대상 처리는 사용자 공간에서 수행됩니다. 2010년 말에 LIO(Linux-IO) 프로젝트가 선택되어 커널 상태에서 구현된 iscsi 대상으로 TGT를 대체했습니다. LIO가 TGT를 대체하도록 선택되었을 때 TGT 사용자 빈 모듈이 계속 실행될 수 있도록 구현이 조정되었으므로 TGT 커뮤니티는 커널에 LIO 포함을 지원합니다. Linux 커널 2.6.38 이전에는 TGT였습니다.</p><h3 id="linux-io" tabindex="-1"><a class="header-anchor" href="#linux-io" aria-hidden="true">#</a> Linux-IO</h3><p>Linux 커널(linux 2.6.38 이후)에서 Linux-IO Target은 소프트웨어를 사용하여 다양한 SCSI Target을 구현합니다. Fibre Channel(Qlogic, linux3.5), FCoE(linux3.0), iSCSI(linux 3.1), iSER(Mellanox InfiniBand, linux3.10), SRP(Mellanox InfiniBand, linux3)를 포함하여 SAN 기술에서 널리 사용되는 모든 스토리지 프로토콜을 지원합니다. .3), USB 등. 동시에 이 머신에 대해 시뮬레이션된 SCSI 디바이스를 생성하고 Virtio의 SCSI 디바이스를 기반으로 가상 머신을 제공할 수도 있습니다. Linux-IO Target은 사용자가 값비싼 전문 장비를 구입하지 않고도 상대적으로 저렴한 Linux 시스템을 사용하여 SCSI 및 SAN의 다양한 기능을 구현할 수 있도록 합니다.</p><p>Linux-IO Target은 커널 상태에서 Target의 시뮬레이션을 실현하고 보다 &quot;현대적인&quot; sysfs 기반 구성 관리 방법을 채택하여 친숙한 사용자 모드 관리 도구를 제공합니다. 커널 버전 2.6.38부터 Linux 커널에는 Linux-IO Target의 관련 모듈이 포함됩니다. 사용자 모드에서 targetcli 및 rtslib는 모든 주요 릴리스에 패키징됩니다. targetcli 프로그램은 구성 및 관리에 사용되며 rtslib는 Python 프로그래밍 인터페이스를 제공합니다.</p><p>다음 명령을 사용하여 iSCSI 서버 측을 설치합니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo apt install targetcli-fb open-iscsi
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="lvm2" tabindex="-1"><a class="header-anchor" href="#lvm2" aria-hidden="true">#</a> lvm2</h2><p>LVM(Logical Volume Manager)은 논리적 볼륨 관리를 의미합니다. Linux 환경에서 디스크 파티션을 관리하기 위한 메커니즘입니다. LVM은 디스크 파티션 관리의 유연성을 향상시키기 위해 하드 디스크 및 파티션에 구축된 논리적 계층입니다.</p><ul><li>PV(physical volume): 일반적으로 파티션, 전체 물리적 하드 디스크 또는 RAID 장치입니다.</li><li>VG(volume group): 물리 볼륨 위에 생성된 여러 물리 볼륨 모음입니다. 볼륨 그룹이 생성되면 물리적 볼륨을 볼륨 그룹에 동적으로 추가할 수 있습니다. 논리 볼륨 시스템 프로젝트에는 하나의 볼륨 그룹만 있거나 여러 볼륨 그룹이 있을 수 있습니다.</li><li>LV(logical volume): 볼륨 그룹 위에 생성된 논리적 볼륨은 크기를 동적으로 확장하거나 축소할 수도 있습니다. 볼륨 그룹의 할당되지 않은 볼륨 그룹 공간을 사용하여 새 논리 볼륨을 생성할 수 있습니다. 여러 논리 볼륨은 동일한 볼륨 그룹이나 다른 볼륨 그룹에 속할 수 있습니다.</li></ul><p>lvm2를 설치하는 명령은 다음과 같습니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo apt install lvm2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>여기서는 <code>pvcreate</code> 명령을 사용하여 안전하고 빠른 RAID 장치를 물리 볼륨으로 초기화하고 <code>vgcreate</code> 명령을 사용하여 물리 볼륨에 볼륨 그룹을 생성한 다음 볼륨 그룹 이름을 입력하는 것이 좋습니다. 디스크 없는 콘솔 설정. 데스크톱 프로그램은 자동으로 볼륨 그룹에 논리 볼륨을 만들고, 논리 볼륨에 디스크 없는 미러를 만들고, 미러 파일을 iSCSI의 백엔드 스토리지로 사용하고, 마지막으로 iSCSI 백엔드를 iPXE 부팅 프로그램과 연결하여 네트워크 디스크로 연결하면 디스크에서 시스템을 시작하고 로컬 디스크처럼 디스크에 데이터를 저장할 수 있습니다.</p><h2 id="thrift" tabindex="-1"><a class="header-anchor" href="#thrift" aria-hidden="true">#</a> thrift</h2><p>DBC-CloudCyberCafe 프로젝트는 thrift rpc 프레임워크를 사용하여 타사 프로그램(주로 dbc 프로그램)을 용이하게 하는 API 인터페이스를 제공하여 시스템이 Windows 또는 Ubuntu 시스템에 들어가도록 설정하고 시스템 로그인 암호를 수정하며 디스크가 없는 클라이언트를 닫습니다. 따라서 디스크가 없는 네트워크 부트 서버는 필요한 절약 도구를 설치해야 합니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo apt install thrift-compiler python3-pip
sudo pip3 install thrift
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="diskless-console" tabindex="-1"><a class="header-anchor" href="#diskless-console" aria-hidden="true">#</a> diskless console</h2><p>DBC-CloudCyberCafe 프로젝트는 고객 관리자가 머신을 추가하고, MAC 주소와 IP 주소를 바인딩하고, 머신 시작 항목을 수정할 수 있도록 디스크 없는 콘솔을 구현하기 위해 plotly를 사용합니다.</p><p>lvm2 및 iSCSI의 작업에는 디스크 없는 네트워크 부트 서버의 루트 사용자 권한이 필요하기 때문에 디스크 없는 콘솔은 루트 사용자 암호가 입력될 때까지 대기할 수 있으며 이로 인해 많은 후속 작업이 실패할 수 있습니다. 서버는 <code>/etc/sudoers</code>에 <code>dbc ALL=(ALL) NOPASSWD:ALL</code> 내용을 추가하여 sudo 명령을 실행할 때 암호를 입력할 필요가 없습니다. <code>/etc/sudoers</code> 파일의 내용은 다음과 같습니다.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#
# This file MUST be edited with the &#39;visudo&#39; command as root.
#
# Please consider adding local content in /etc/sudoers.d/ instead of
# directly modifying this file.
#
# See the man page for details on how to write a sudoers file.
#
Defaults	env_reset
Defaults	mail_badpass
Defaults	secure_path=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin&quot;

# Host alias specification

# User alias specification

# Cmnd alias specification

# User privilege specification
root	ALL=(ALL:ALL) ALL

# Members of the admin group may gain root privileges
%admin ALL=(ALL) ALL

# Allow members of group sudo to execute any command
%sudo	ALL=(ALL:ALL) ALL
dbc  ALL=(ALL) NOPASSWD:ALL

# See sudoers(5) for more information on &quot;#include&quot; directives:

#includedir /etc/sudoers.d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>소스 코드에서 디스크 없는 콘솔을 배포하는 명령은 다음과 같습니다.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Download the DBC-CloudCyberCafe project code</span>
<span class="token function">git</span> clone https://github.com/DeepBrainChain/DBC-CloudCyberCafe.git
<span class="token builtin class-name">cd</span> DBC-CloudCyberCafe/preset/
thrift <span class="token parameter variable">--gen</span> py preset.thrift
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/plotly/
<span class="token function">sudo</span> python3 home.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>프로젝트 코드의 <code>DBC-CloudCyberCafe/plotly/</code> 디렉토리에서 <code>sudo python3 home.py</code> 명령을 실행하는 한 디스크 없는 서비스의 콘솔 프로그램을 시작한 다음 <code>http://localhost를 입력할 수 있습니다. :8050/</code> 브라우저에서 콘솔에 액세스합니다. <code>localhost</code>를 디스크가 없는 네트워크 부팅 서버의 IP 주소로 바꾸는 것을 잊지 마십시오.</p><p>브라우저에서 디스크 없는 콘솔을 연 후 <code>설정</code> 페이지에서 일부 설정을 입력해야 합니다.</p><p>패키지 실행 프로그램을 사용하여 디스크 없는 콘솔을 배포할 수도 있습니다 <a href="https://github.com/DeepBrainChain/DBC-CloudCyberCafe/releases" target="_blank" rel="noopener noreferrer">https://github.com/DeepBrainChain/DBC-CloudCyberCafe/releases<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><ul><li>Storage <ul><li>Volume Group: 위의 lvm2 단계에서 생성한 볼륨 그룹을 입력합니다.</li></ul></li><li>DHCP <ul><li>network name: 네트워크 또는 서브넷 이름, 기본값 <code>dbc</code>.</li><li>interface: 네트워크 카드 장치 이름, <code>eno1</code>과 같이 LAN에 연결된 네트워크 카드.</li><li>subnet: 네트워크 세그먼트, IP 주소 세그먼트(예: <code>192.168.1.0</code>).</li><li>subnet mask: <code>255.255.255.0</code>과 같은 서브넷 마스크입니다.</li><li>range: 시작 IP 주소 및 종료 IP 주소 범위(예: <code>192.168.1.100</code>-<code>192.168.1.200</code>).</li><li>routers: 게이트웨이 IP 주소(예: <code>192.168.1.1</code>).</li><li>dns servers: <code>114.114.114.114</code> 및 Alibaba Cloud 공용 DNS <code>223.5.5.5</code>와 같은 DNS 서버 주소입니다.</li><li>broadcast address: 브로드캐스트 주소(예: <code>192.168.1.255</code>).</li><li>filename: iPXE가 시작된 후 로드된 스크립트 파일의 주소(예: <code>http://192.168.1.2:8080/ipxe/boot.ipxe</code>).</li><li>next server: 위에서 배포한 TFTP 서버의 IP 주소(예: <code>192.168.1.2</code>).</li></ul></li><li>HTTP <ul><li>root path: 위에 배포된 HTTP 파일 서비스의 저장소 디렉터리인 콘솔 프로그램은 ipxe/cfg 폴더 아래에 있는 시스템의 MAC 주소에 해당하는 구성을 생성합니다.</li><li>http ip:port: <code>http://192.168.1.2:8080</code>과 같이 위에서 배포한 HTTP 서비스의 IP 주소 및 포트입니다.</li></ul></li><li>iSCSI <ul><li>iscsi server: 위에 배포된 iSCSI 서버의 IP 주소입니다. 예를 들어 <code>192.168.1.2</code>.</li><li>initiator iqn: 공개 iSCSI 초기자 이름(예: <code>iqn.2022-10.org.dbc.iscsi:global.client</code>).</li><li>target prefix: 공용 iSCSI 대상 이름 접두사(예: <code>iqn.2022-10.org.dbc.iscsi</code>).</li></ul></li></ul><div class="hint-container tip"><p class="hint-container-title">注意！</p><ol><li>이론적으로 TFTP, HTTP 및 iSCSI와 같은 서비스는 서로 다른 서버에 배포될 수 있으므로 설정은 많은 서버 주소를 구분합니다. 하나의 서버를 사용하고 lvm2에 보안 RAID를 사용하는 것이 좋습니다.</li><li>DHCP의 파일 이름은 iPXE 시작 후 로드되는 스크립트입니다. undionly.kpxe 및 ipxe.efi가 사용자 지정 스크립트로 컴파일된 경우 이 항목을 무시할 수 있습니다.</li></ol></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/DeepBrainChain/DBC-Wiki/edit/main/docs/kr/dbc-cloud-cybercafe/diskless-netboot-server.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 1364812552@qq.com">Jerry</span>,<!--]--><!--[--><span class="contributor" title="email: kaigedong@users.noreply.github.com">kaigedong</span><!--]--><!--]--></div></div></footer><!----><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">MIT Licensed | Copyright © 2017-Present DeepBrainChain</div><!----></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/DBC-Wiki/assets/app-feff63bc.js" defer></script>
  </body>
</html>
