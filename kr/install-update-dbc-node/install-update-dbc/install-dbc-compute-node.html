<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html"><meta property="og:site_name" content="DBC-Wiki"><meta property="og:title" content="DBC 컴퓨팅 노드 설치"><meta property="og:description" content="【A】설치전 준비 (구성된 고정 공용 IP 주소 기반),KVM설치 환경 배포 시스템은 ubuntu18.04 LTS 또는 20.04LTS를 채택하고 시작하기 전에 기존 설치된 그래픽 카드 드라이버를 제거하십시오. 이 작업에는 그래픽 카드 드라이버가 포함될 수 없습니다. 【B】XFS 파일 시스템 생성 및 마운트 1.하드..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-11-21T10:02:20.000Z"><meta property="article:modified_time" content="2024-11-21T10:02:20.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"DBC 컴퓨팅 노드 설치","image":[""],"dateModified":"2024-11-21T10:02:20.000Z","author":[]}</script><title>DBC 컴퓨팅 노드 설치 | DBC-Wiki</title><meta name="description" content="【A】설치전 준비 (구성된 고정 공용 IP 주소 기반),KVM설치 환경 배포 시스템은 ubuntu18.04 LTS 또는 20.04LTS를 채택하고 시작하기 전에 기존 설치된 그래픽 카드 드라이버를 제거하십시오. 이 작업에는 그래픽 카드 드라이버가 포함될 수 없습니다. 【B】XFS 파일 시스템 생성 및 마운트 1.하드...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/DBC-Wiki/assets/style-c3c7fba7.css" as="style"><link rel="stylesheet" href="/DBC-Wiki/assets/style-c3c7fba7.css">
    <link rel="modulepreload" href="/DBC-Wiki/assets/app-c506e6ea.js"><link rel="modulepreload" href="/DBC-Wiki/assets/framework-2c7d842c.js"><link rel="modulepreload" href="/DBC-Wiki/assets/install-dbc-compute-node.html-754447e6.js"><link rel="modulepreload" href="/DBC-Wiki/assets/install-dbc-compute-node.html-f9ea490a.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container no-sidebar has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/DBC-Wiki/" class="brand"><img class="logo" src="/DBC-Wiki/images/dbc.icon.png" alt="DBC-Wiki"><!----><span class="site-name hide-in-pad">DBC-Wiki</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/DBC-Wiki/" class="nav-link" aria-label="DBC-Wiki Home"><span class="font-icon icon iconfont icon-home" style=""></span>DBC-Wiki Home<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="了解DBC"><span class="title"><!---->了解DBC</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>DBC介绍</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-applications.html" class="nav-link" aria-label="DBC 的应用领域"><!---->DBC 的应用领域<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-ecology.html" class="nav-link" aria-label="DBC 生态"><!---->DBC 生态<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-profit-trade.html" class="nav-link" aria-label="DBC 的获取与交易"><!---->DBC 的获取与交易<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-gpu-rent.html" class="nav-link" aria-label="租用 GPU"><!---->租用 GPU<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/rent-virtual.html" class="nav-link" aria-label="虚拟机租用教程"><!---->虚拟机租用教程<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-community.html" class="nav-link" aria-label="DBC 社群"><!---->DBC 社群<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-hot-link.html" class="nav-link" aria-label="DBC 常用链接"><!---->DBC 常用链接<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-audit-report.html" class="nav-link" aria-label="DBC 审计报告"><!---->DBC 审计报告<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>云平台运营</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/cloud-platform-operation/initial-operation-process.html" class="nav-link" aria-label="GPU 云平台初期运营流程"><!---->GPU 云平台初期运营流程<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/cloud-platform-operation/support-for-cloud-platform.html" class="nav-link" aria-label="基金会关于 GPU 云平台扶持方案"><!---->基金会关于 GPU 云平台扶持方案<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>社区治理</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/council-outreach-proposal.html" class="nav-link" aria-label="理事会关于发动社区成员全球推广的提案"><!---->理事会关于发动社区成员全球推广的提案<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/dbc-council-establishment-notice.html" class="nav-link" aria-label="关于成立深脑链理事会的通知"><!---->关于成立深脑链理事会的通知<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/treasury-usage.html" class="nav-link" aria-label="DBC 国库资金用途"><!---->DBC 国库资金用途<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/dbc-council.html" class="nav-link" aria-label="关于推进 DBC 理事会成员选举及提案的说明"><!---->关于推进 DBC 理事会成员选举及提案的说明<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/join-council.html" class="nav-link" aria-label="DBC 理事会参选流程"><!---->DBC 理事会参选流程<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/council-meeting-procedures.html" class="nav-link" aria-label="DBC 理事会会议流程（试运行版）"><!---->DBC 理事会会议流程（试运行版）<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/proposing-referenda.html" class="nav-link" aria-label="教程 | 如何在 DBC 主网发起公投"><!---->教程 | 如何在 DBC 主网发起公投<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/voting-referenda.html" class="nav-link" aria-label="教程 | 如何参与 DBC 主网公投投票"><!---->教程 | 如何参与 DBC 主网公投投票<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/apply-treasury.html" class="nav-link" aria-label="教程 | DBC Treasury 资金申请流程"><!---->教程 | DBC Treasury 资金申请流程<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/dbc-nft.html" class="nav-link" aria-label="为迎接主网上线，深脑链（DBC）NFT 免费赠予社区"><!---->为迎接主网上线，深脑链（DBC）NFT 免费赠予社区<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/staking-voting.html" class="nav-link" aria-label="教程 | DBC 创建账号、质押、节点选举投票"><!---->教程 | DBC 创建账号、质押、节点选举投票<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="DBC AI公链"><span class="title"><!---->DBC AI公链</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>AI容器制作</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/dbc-aipublicchain/docker_build.html" class="nav-link" aria-label="如何使用"><!---->如何使用<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="DBC议案"><span class="title"><!---->DBC议案</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/DBC-Wiki/council/2.html" class="nav-link" aria-label="/council/2"><!---->/council/2<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/12.html" class="nav-link" aria-label="Proposal 12/Motion 14: 资助创建社区应用程序以托管财务、维基等"><!---->Proposal 12/Motion 14: 资助创建社区应用程序以托管财务、维基等<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/13.html" class="nav-link" aria-label="Proposal 13/Motion 15: 为明年的持续托管、网络服务和功能开发提供资金"><!---->Proposal 13/Motion 15: 为明年的持续托管、网络服务和功能开发提供资金<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/15.html" class="nav-link" aria-label="Proposal 15/Motion 17: 为错过的人打开交换"><!---->Proposal 15/Motion 17: 为错过的人打开交换<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/16.html" class="nav-link" aria-label="Proposal 16,18,19: GPU Cloud Computing"><!---->Proposal 16,18,19: GPU Cloud Computing<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/17.html" class="nav-link" aria-label="Proposal 17: Additional Funding to Support and Help DBC Deploy GPU Computing Power in North America"><!---->Proposal 17: Additional Funding to Support and Help DBC Deploy GPU Computing Power in North America<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/22.html" class="nav-link" aria-label="Proposal 22：关于 NEO 链上未兑换 DBC 销毁的提案"><!---->Proposal 22：关于 NEO 链上未兑换 DBC 销毁的提案<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/23.html" class="nav-link" aria-label="Proposal 23/motion 41"><!---->Proposal 23/motion 41<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/25.html" class="nav-link" aria-label="Proposal 25: Additional Proposals for DBC Galaxy Race Rule by DaiShu community"><!---->Proposal 25: Additional Proposals for DBC Galaxy Race Rule by DaiShu community<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/26.html" class="nav-link" aria-label="Proposal 26: Incentive Program for Cloud Platform Providers"><!---->Proposal 26: Incentive Program for Cloud Platform Providers<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/27.html" class="nav-link" aria-label="Proposal 27: NexuiCom is applying for a Gold/Silver NFT"><!---->Proposal 27: NexuiCom is applying for a Gold/Silver NFT<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/28.html" class="nav-link" aria-label="Proposal 28: Increasing the Amount of DBC Available to the Treasury"><!---->Proposal 28: Increasing the Amount of DBC Available to the Treasury<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/29.html" class="nav-link" aria-label="Proposal 29: 目前未兑换的 9.8 亿 DBC 全部销毁"><!---->Proposal 29: 目前未兑换的 9.8 亿 DBC 全部销毁<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/30.html" class="nav-link" aria-label="Proposal 30: 现在开启阶梯销毁"><!---->Proposal 30: 现在开启阶梯销毁<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/31.html" class="nav-link" aria-label="Proposal 31: 保障算池运维成本"><!---->Proposal 31: 保障算池运维成本<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/32.html" class="nav-link" aria-label="Proposal 32: 5000 到 10000 卡进行阶梯销毁"><!---->Proposal 32: 5000 到 10000 卡进行阶梯销毁<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/33.html" class="nav-link" aria-label="Proposal 33: 财政部提案 33"><!---->Proposal 33: 财政部提案 33<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/34.html" class="nav-link" aria-label="Proposal 34/Motion 63"><!---->Proposal 34/Motion 63<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/council/35.html" class="nav-link" aria-label="Proposal 35/Motions 65: 申请深脑链全方位落地韩国（DBC-KOREA）资金费用"><!---->Proposal 35/Motions 65: 申请深脑链全方位落地韩国（DBC-KOREA）资金费用<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="链上操作说明"><span class="title"><!---->链上操作说明</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>参与 DBC 深脑链说明</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/dbc-chain-params.html" class="nav-link" aria-label="参与 DBC 深脑链"><!---->参与 DBC 深脑链<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/generate-new-account.html" class="nav-link" aria-label="生成新账户"><!---->生成新账户<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/join-dbc-network.html" class="nav-link" aria-label="成为 DBC 验证节点"><!---->成为 DBC 验证节点<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/dbc-ai-public-chain-pos.html" class="nav-link" aria-label="成为DBC AI 公链验证节点"><!---->成为DBC AI 公链验证节点<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/run-archive-node.html" class="nav-link" aria-label="如何运行同步节点？"><!---->如何运行同步节点？<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/staking-dbc-and-voting.html" class="nav-link" aria-label="成为 DBC 提名人"><!---->成为 DBC 提名人<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/fast-track.html" class="nav-link" aria-label="快速公投"><!---->快速公投<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/council-proposal.html" class="nav-link" aria-label="议员提案流程"><!---->议员提案流程<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/common-questions.html" class="nav-link" aria-label="质押/解绑常见问题"><!---->质押/解绑常见问题<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/staking-model/dbc-chain-upgrade.html" class="nav-link" aria-label="DBC-Chain 验证节点升级教程"><!---->DBC-Chain 验证节点升级教程<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>链上算力平台</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/dbc-chain-logic.html" class="nav-link" aria-label="DBC 链上模块说明"><!---->DBC 链上模块说明<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-reward-model.html" class="nav-link" aria-label="机器奖励模型"><!---->机器奖励模型<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-slash-model.html" class="nav-link" aria-label="机器惩罚机制"><!---->机器惩罚机制<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/bonding-machine.html" class="nav-link" aria-label="机器上链步骤"><!---->机器上链步骤<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/unbonding-machine.html" class="nav-link" aria-label="机器下链步骤"><!---->机器下链步骤<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/become-onchain-committee.html" class="nav-link" aria-label="DBC 链上委员会"><!---->DBC 链上委员会<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-verification.html" class="nav-link" aria-label="委员会处理机器上链请求"><!---->委员会处理机器上链请求<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/rent-machine.html" class="nav-link" aria-label="链上机器租用"><!---->链上机器租用<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/report-machine-fault.html" class="nav-link" aria-label="租用人举报机器故障"><!---->租用人举报机器故障<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/maintain-machine.html" class="nav-link" aria-label="委员会处理租用人的报告"><!---->委员会处理租用人的报告<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/onchain-errors.html" class="nav-link" aria-label="链上错误说明"><!---->链上错误说明<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>链上API</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-rpc-readme.html" class="nav-link" aria-label="DBC-Blockchain 主网 RPC 说明"><!---->DBC-Blockchain 主网 RPC 说明<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-rpc.html" class="nav-link" aria-label="DBC-Blockchain 主网 RPC"><!---->DBC-Blockchain 主网 RPC<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-storage.html" class="nav-link" aria-label="链上存储"><!---->链上存储<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="部署GPU云平台"><span class="title"><!---->部署GPU云平台</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/DBC-Wiki/gpu-cloud/dbc-gpu-cloud-service.html" class="nav-link" aria-label="DBC GPU 云服务"><!---->DBC GPU 云服务<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="安装&amp;升级DBC节点"><span class="title"><!---->安装&amp;升级DBC节点</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>安装和升级DBC节点</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html" class="nav-link" aria-label="安装 DBC 算力节点"><!---->安装 DBC 算力节点<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/update-dbc-compute-node.html" class="nav-link" aria-label="升级 DBC 算力节点"><!---->升级 DBC 算力节点<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-update-dbc-client.html" class="nav-link" aria-label="安装和升级 DBC 客户端"><!---->安装和升级 DBC 客户端<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/dbc-bare-metal-node.html" class="nav-link" aria-label="DBC 裸金属节点"><!---->DBC 裸金属节点<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/deploy_image_server.html" class="nav-link" aria-label="部署镜像中心"><!---->部署镜像中心<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>DBC客户端-HTTP请求</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/install-tool.html" class="nav-link" aria-label="准备工作"><!---->准备工作<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/http-request-format.html" class="nav-link" aria-label="Http 请求格式说明"><!---->Http 请求格式说明<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/http-api.html" class="nav-link" aria-label="HTTP 客户端请求 API"><!---->HTTP 客户端请求 API<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>创建windows虚拟机使用omniverse</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/create-win-machine-omniverse/create-win-machine-omniverse.html" class="nav-link" aria-label="创建 windows 虚拟机应用 omniverse"><!---->创建 windows 虚拟机应用 omniverse<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>DBC监控</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-monitor/http-monitor-api.html" class="nav-link" aria-label="虚拟机监控的 HTTP 客户端 API"><!---->虚拟机监控的 HTTP 客户端 API<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-monitor/monitoring-items.html" class="nav-link" aria-label="监控项"><!---->监控项<!----></a></li><li class="dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-monitor/monitoring-protocol.html" class="nav-link" aria-label="监控数据交换协议"><!---->监控数据交换协议<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="无盘网络启动"><span class="title"><!---->无盘网络启动</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/DBC-Wiki/dbc-cloud-cybercafe/diskless-netboot-server.html" class="nav-link" aria-label="无盘网起服务器"><!---->无盘网起服务器<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/dbc-cloud-cybercafe/diskless-netboot-image.html" class="nav-link" aria-label="无盘网起镜像"><!---->无盘网起镜像<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button class="dropdown-title" type="button" aria-label="选择语言"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html" class="router-link-active router-link-exact-active nav-link active" aria-label="简体中文"><!---->简体中文<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/en/" class="nav-link" aria-label="English"><!---->English<!----></a></li><li class="dropdown-item"><a href="/DBC-Wiki/ko/" class="nav-link" aria-label="한국어"><!---->한국어<!----></a></li></ul></button></div></div><div class="nav-item"><a class="repo-link" href="https://github.com/DeepBrainChain/DBC-Wiki" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->DBC 컴퓨팅 노드 설치</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-03-24T09:13:47.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 4 分钟</span><meta property="timeRequired" content="PT4M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【a】설치전-준비-구성된-고정-공용-ip-주소-기반-kvm설치-환경-배포" class="router-link-active router-link-exact-active toc-link level2">【A】설치전 준비 (구성된 고정 공용 IP 주소 기반),KVM설치 환경 배포</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【b】xfs-파일-시스템-생성-및-마운트" class="router-link-active router-link-exact-active toc-link level2">【B】XFS 파일 시스템 생성 및 마운트</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【c】기기-가상화-지원-여부-판정" class="router-link-active router-link-exact-active toc-link level2">【C】기기 가상화 지원 여부 판정</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【d】시스템-그룹화-활성" class="router-link-active router-link-exact-active toc-link level2">【D】시스템 그룹화 활성</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【e】gpu-리소스-격리" class="router-link-active router-link-exact-active toc-link level2">【E】GPU 리소스 격리</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【f】-드라이버-kernel-driver-in-use-vfio-pci인-경우-다음-작업을-수행할-필요가-없습니다-단-바인딩-실패했을경우-계속-실행하십시오" class="router-link-active router-link-exact-active toc-link level2">【F】 드라이버 Kernel driver in use: vfio-pci인 경우 다음 작업을 수행할 필요가 없습니다 ,단 바인딩 실패했을경우 계속 실행하십시오</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【g】기기그래픽-카드가-vfio-pci에-의해-점유되고-있음을-확인한-후-libvirtd-서비스를-시작하고-기기-자동-시작을-설정합니다-이-설정-단계는-매우-중요합니다-올바르게-구성되지-않은-경우-정확한-요청을-수신할-수-없습니다-기계의-온체인-상태에-직접적인-영향을-미치고-임대에-영향을-미치며-손실발생합니다" class="router-link-active router-link-exact-active toc-link level2">【G】기기그래픽 카드가 vfio-pci에 의해 점유되고 있음을 확인한 후 libvirtd 서비스를 시작하고 기기 자동 시작을 설정합니다(이 설정 단계는 매우 중요합니다 , 올바르게 구성되지 않은 경우 정확한 요청을 수신할 수 없습니다. 기계의 온체인 상태에 직접적인 영향을 미치고 임대에 영향을 미치며 손실발생합니다)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【i】dbc성능노드-프로그램-설치" class="router-link-active router-link-exact-active toc-link level2">【I】DBC성능노드 프로그램 설치</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【j】미러이미지-모델-다운로드-data-목차에-넣으면-dbc가-가상-기기-시작하고-data-목차로-이동하여-검색합니다" class="router-link-active router-link-exact-active toc-link level2">【J】미러이미지 모델 다운로드(/data 목차에 넣으면 dbc가 가상 기기 시작하고 /data 목차로 이동하여 검색합니다)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【k】기기-아이디-및-개인키-백업-매우-중요합니다-개인키-분실-시-담보된-코인의-50-가-손실되므로-여러곳에-백업해-두시기-바랍니다" class="router-link-active router-link-exact-active toc-link level2">【K】기기 아이디 및 개인키 백업(매우 중요합니다, 개인키 분실 시 담보된 코인의 50%가 손실되므로 여러곳에 백업해 두시기 바랍니다)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【l】앞부분-정상-설정-여부-검사-하기-위해-그래픽카드-직통의-가상기기-생성-및-테스트합니다" class="router-link-active router-link-exact-active toc-link level2">【L】앞부분 정상 설정 여부 검사 하기 위해 , 그래픽카드 직통의 가상기기 생성 및 테스트합니다</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【m】기기의-각종-하드웨이-파라미터-지침-정상여부-검사" class="router-link-active router-link-exact-active toc-link level2">【M】기기의 각종 하드웨이 파라미터 지침 정상여부 검사</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【n】기기가-컴퓨팅-네트워크에-정상적으로-연결되었는지-확인합니다" class="router-link-active router-link-exact-active toc-link level2">【N】기기가 컴퓨팅 네트워크에 정상적으로 연결되었는지 확인합니다</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#【o】기기-온체인" class="router-link-active router-link-exact-active toc-link level2">【O】기기 온체인</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/DBC-Wiki/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#dbc-방송-모니터링" class="router-link-active router-link-exact-active toc-link level2">DBC 방송 모니터링</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="dbc-컴퓨팅-노드-설치" tabindex="-1"><a class="header-anchor" href="#dbc-컴퓨팅-노드-설치" aria-hidden="true">#</a> DBC 컴퓨팅 노드 설치</h1><h2 id="【a】설치전-준비-구성된-고정-공용-ip-주소-기반-kvm설치-환경-배포" tabindex="-1"><a class="header-anchor" href="#【a】설치전-준비-구성된-고정-공용-ip-주소-기반-kvm설치-환경-배포" aria-hidden="true">#</a> 【A】설치전 준비 (구성된 고정 공용 IP 주소 기반),KVM설치 환경 배포</h2><p>시스템은 ubuntu18.04 LTS 또는 20.04LTS를 채택하고 시작하기 전에 기존 설치된 그래픽 카드 드라이버를 제거하십시오. 이 작업에는 그래픽 카드 드라이버가 포함될 수 없습니다.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;140.82.114.4 gitub.com&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/hosts
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;199.232.5.194 github.global.ssl.fastly.net&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/hosts
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;nameserver 8.8.4.4&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/resolv.conf <span class="token operator">&gt;</span> /dev/null
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade <span class="token parameter variable">-y</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> qemu-kvm libvirt-clients libvirt-daemon-system bridge-utils virt-manager ovmf cpu-checker <span class="token function">vim</span> <span class="token function">expect</span> <span class="token parameter variable">-y</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【b】xfs-파일-시스템-생성-및-마운트" tabindex="-1"><a class="header-anchor" href="#【b】xfs-파일-시스템-생성-및-마운트" aria-hidden="true">#</a> 【B】XFS 파일 시스템 생성 및 마운트</h2><p>1.하드디스크 파티션 보기</p><p><code>lsblk</code></p><p>2.데이터 디스크 파일 생성 및 하드디스크 격식화, 하드디스크 마운드(데이터디스크 마운트 목차 필수/data)</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> /data
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> xfsprogs <span class="token parameter variable">-y</span>
<span class="token function">sudo</span> mkfs.xfs <span class="token parameter variable">-n</span> <span class="token assign-left variable">ftype</span><span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-f</span> /dev/sdb （여기서sdb인지 여부는lsblk상황에 따라 다릅니다）
<span class="token function">sudo</span> <span class="token function">mount</span> <span class="token parameter variable">-o</span> pquota /dev/sdb /data
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">777</span> /data
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;/dev/sdb /data xfs pquota 0 1&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/fstab
<span class="token function">sudo</span> <span class="token function">mount</span> <span class="token parameter variable">-a</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【c】기기-가상화-지원-여부-판정" tabindex="-1"><a class="header-anchor" href="#【c】기기-가상화-지원-여부-판정" aria-hidden="true">#</a> 【C】기기 가상화 지원 여부 판정</h2><p>1.하드웨어 지원 활성화</p><p>BIOS IOMMU VT-d활성화 (AMD플랫폼일 경우,AMD-Vi를 켜야합니다, 구체적인 작업은 메인보드 유형 브라우저에 따라 검색할 수 있습니다)VT(VT-x) 및 VT-d 지원.AMD는 AMD-Vi로 부릅니다.관련 지원을 enable 설치진행 ,기본적으로 켜짐)</p><p>일반적 경로:Processor—IIO Configuration—Intel@ VT for Directed I/O(VT-d)</p><p>2.환경 의존, CPU가 가상화를 지원하는지, KVM을 사용할 수 있는지 확인합니다</p><p>egrep -c &#39;(svm|vm)&#39; /proc/cpuinfo</p><p>CPU검사 , 0으로 표시되면, 가상화 지원이 안됩니다</p><p>kvm-ok</p><p>kvm 사용가능 여부 검사</p><p>INFO 표시 : /dev/kvm exists</p><p>KVM acceleration can be used 후속 작업을 수행할 수 있음을 표시합니다, 표시가 일치하지 않으면 VT-d가 정상적으로 켜져 있는지 확인하십시오.</p><p>3.ip_forward전달 오픈여부 검사</p><p>/proc/sys/net/ipv4/ip_forward 1인지 확인 , 1아닐경우 집행합니다:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">&#39;echo &quot;net.ipv4.ip_forward=1&quot; &gt;&gt; /etc/sysctl.conf&#39;</span>
<span class="token function">sudo</span> <span class="token function">sysctl</span> <span class="token parameter variable">-p</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>lsmod | grep br_netfilter수출여부 확인, 수출 안될경우 집행합니다 :</p><p>1.sudo sh -c &#39;echo &quot;br_netfilter&quot; &gt; /etc/modules-load.d/br_netfilter.conf&#39;</p><p>집행완료 후 다시 시작 필요 ,혹은 그래픽카드 설치 직통 후 동시 다시 시작 합니다</p><p>20.04 시스템인 경우 다음을 수행하십시오. vfio-pci에 대해 다른 단계를 수행할 필요가 없습니다. ubuntu18.04 시스템인 경우 네 번째 단계에 따라 작업을 시작하십시오.</p><ul><li>블랙리스트 설정 , 카드 공간 확보</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modprobe.d/blacklist.conf
<span class="token comment">#최종 추가 내용：</span>
blacklist snd_hda_intel
blacklist amd76x_edac
blacklist vga16fb
blacklist nouveau
blacklist rivafb
blacklist nvidiafb
blacklist rivatv
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>그래픽 카드 직통 설정</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#그래픽카드 ID  검색</span>
lspci <span class="token parameter variable">-nnv</span> <span class="token operator">|</span> <span class="token function">grep</span> NVIDIA
그래픽카드id 복제，예 10de:2231 10de:1aef，중복 내용은 오직 한번만  저장
<span class="token comment">#커널 파일 수정</span>
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/default/grub
<span class="token comment">#GRUB_CMDLINE_LINUX_DEFAULT문구에 추가（MD플랫폼 일 경우，intel_iommu=on을 amd_iommu=on으로 수정)</span>
quiet splash <span class="token assign-left variable">intel_iommu</span><span class="token operator">=</span>on <span class="token assign-left variable">kvm.ignore_msrs</span><span class="token operator">=</span><span class="token number">1</span> vfio-pci.ids<span class="token operator">=</span><span class="token operator">&lt;</span>그래픽 카드id，쉼표로 중간 구분<span class="token operator">&gt;</span>
<span class="token comment">#커널 업데이트</span>
<span class="token function">sudo</span> <span class="token function">update-grub</span>
<span class="token comment">#기기 다시 시작</span>
<span class="token comment">#그래픽 카드 사용량 검색</span>
lspci <span class="token parameter variable">-vv</span> <span class="token parameter variable">-s</span> <span class="token operator">&lt;</span>그래픽 카드 PCI인터페이스<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token function">grep</span> driver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vfio-pci가 표시되면 정상입니다, vfio-pci가 아니면 돌아가서 grub 파일이 올바르게 작성되었는지 확인하거나 여섯 번째 단계 2에 따라 수동으로 바인딩하십시오.</p><ul><li>ip_forward전달 오픈여부 검사</li></ul><p>/proc/sys/net/bridge/bridge-nf-call-iptables 및 /proc/sys/net/bridge/bridge-nf-call-ip6tables 모두 =1 여부 검사</p><p>20.04LTS시스템 그래픽 카드 격리 단계 여기서 마무리 됩니다, 단계 7로 돌아가 실행 하십시오.</p><h2 id="【d】시스템-그룹화-활성" tabindex="-1"><a class="header-anchor" href="#【d】시스템-그룹화-활성" aria-hidden="true">#</a> 【D】시스템 그룹화 활성</h2><ol><li>iommu그룹화 구성</li></ol><p>(다음 내용에서 서버 플랫폼에 따라 iommu를 교체하십시오. intel은 intel_iommu를 사용하고 AMD는 amd_iommu를 사용하십시오.)</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/default/grub
<span class="token comment">#GRUB_CMDLINE_LINUX_DEFAULT문구에 추가 (quiet splash 이두가지 있으면 중복 추가 필요없습니다 ）</span>
quiet splash <span class="token assign-left variable">intel_iommu</span><span class="token operator">=</span>on <span class="token assign-left variable">iommu</span><span class="token operator">=</span>pt <span class="token assign-left variable">rd.driver.pre</span><span class="token operator">=</span>vfio-pci
<span class="token comment">#GRUB_CMDLINE_LINUX문구에 추가</span>
<span class="token assign-left variable">intel_iommu</span><span class="token operator">=</span>on <span class="token assign-left variable">iommu</span><span class="token operator">=</span>pt <span class="token assign-left variable">rd.driver.pre</span><span class="token operator">=</span>vfio-pci
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.구성 도뮬 파일</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modules
<span class="token comment">#하기 내용 추가：</span>
pci_stub
vfio
vfio_iommu_type1
vfio_pci
kvm
kvm_intel
<span class="token comment">#grub.cfg파일 업데이트</span>
<span class="token function">sudo</span> <span class="token function">update-grub</span>
<span class="token comment">#기기 다시 시작，iommu정상 오픈 여부 검사（혹은 추후 실행 완료 후 동시 다시시작 검사합니다 ）</span>
<span class="token function">dmesg</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> iommu
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>[ 3.887539] pci 0000:83:00.1: Adding to iommu group 46 와 같이 유사 표시 되면,오픈 성공됬음을 뜻합니다</p><h2 id="【e】gpu-리소스-격리" tabindex="-1"><a class="header-anchor" href="#【e】gpu-리소스-격리" aria-hidden="true">#</a> 【E】GPU 리소스 격리</h2><ol><li>블랙리스트 설정, 카드 공간 확보</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modprobe.d/blacklist.conf
<span class="token comment">#최종 추가 내용 ：</span>
blacklist snd_hda_intel
blacklist amd76x_edac
blacklist vga16fb
blacklist nouveau
blacklist rivafb
blacklist nvidiafb
blacklist rivatv
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.PCI 설비정보 수집</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>lspci <span class="token parameter variable">-nnv</span> <span class="token operator">|</span> <span class="token function">grep</span> NVIDIA
<span class="token comment">#유사 표시</span>
<span class="token number">17</span>:00.0 VGA compatible controller <span class="token punctuation">[</span>0300<span class="token punctuation">]</span>: NVIDIA Corporation TU104 <span class="token punctuation">[</span>GeForce RTX <span class="token number">2080</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>10de:1e82<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if 00 <span class="token punctuation">[</span>VGA controller<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">17</span>:00.1 Audio device <span class="token punctuation">[</span>0403<span class="token punctuation">]</span>: NVIDIA Corporation TU104 HD Audio Controller <span class="token punctuation">[</span>10de:10f8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token number">17</span>:00.2 USB controller <span class="token punctuation">[</span>0c03<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB <span class="token number">3.1</span> Host Controller <span class="token punctuation">[</span>10de:1ad8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if <span class="token number">30</span> <span class="token punctuation">[</span>XHCI<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">17</span>:00.3 Serial bus controller <span class="token punctuation">[</span>0c80<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB Type-C UCSI Controller <span class="token punctuation">[</span>10de:1ad9<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token number">65</span>:00.0 VGA compatible controller <span class="token punctuation">[</span>0300<span class="token punctuation">]</span>: NVIDIA Corporation TU104 <span class="token punctuation">[</span>GeForce RTX <span class="token number">2080</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>10de:1e82<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if 00 <span class="token punctuation">[</span>VGA controller<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">65</span>:00.1 Audio device <span class="token punctuation">[</span>0403<span class="token punctuation">]</span>: NVIDIA Corporation TU104 HD Audio Controller <span class="token punctuation">[</span>10de:10f8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token number">65</span>:00.2 USB controller <span class="token punctuation">[</span>0c03<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB <span class="token number">3.1</span> Host Controller <span class="token punctuation">[</span>10de:1ad8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if <span class="token number">30</span> <span class="token punctuation">[</span>XHCI<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">65</span>:00.3 Serial bus controller <span class="token punctuation">[</span>0c80<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB Type-C UCSI Controller <span class="token punctuation">[</span>10de:1ad9<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span>
<span class="token comment">#모든 설비 코드 및 PCI id 기록(중복 코드 오직 한번 얻음)</span>
<span class="token comment">#예：</span>
<span class="token comment">#설비코드：</span>
10de:1e82,10de:10f8,10de:1ad8,10de:1ad9 （중복 오직 한번 기록이면 됩니다 ）
<span class="token comment">#PCI id인터페이스（기기별 PCI인터페이스 다릅니다, 주의하여 기록하십시오）</span>
<span class="token number">17</span>:00.0
<span class="token number">17</span>:00.1
<span class="token number">17</span>:00.2
<span class="token number">17</span>:00.3
<span class="token number">65</span>:00.0
<span class="token number">65</span>:00.1
<span class="token number">65</span>:00.2
<span class="token number">65</span>:00.3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.vfio설정 및 직통용 GPU 분리</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modprobe.d/vfio.conf
<span class="token comment">#상기 수집한 설비 코드 정보 기입 (중복될겨우, 한번만 기입하면 됩니다)：</span>
options vfio-pci <span class="token assign-left variable">ids</span><span class="token operator">=</span>10de:1e82,10de:10f8,10de:1ad8,10de:1ad9
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/modules-load.d/vfio-pci.conf
<span class="token comment">#이하 내용 기입</span>
vfio-pci kvmgt vfio-iommu-type1 vfio-mdev
<span class="token comment">#기기 다시 시작</span>
<span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4.GPU상태 확인 (모든 인터페이스 모두 검색 , vfio-pci점유되지 안는것을 방지합니다</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#PCI인터페이스 내용 교체 주의 하십시오 ！</span>
lspci <span class="token parameter variable">-vv</span> <span class="token parameter variable">-s</span> <span class="token operator">&lt;</span>PCI接口<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token function">grep</span> driver
<span class="token comment">#예：</span>
lspci <span class="token parameter variable">-vv</span> <span class="token parameter variable">-s</span> <span class="token number">17</span>:00.0 <span class="token operator">|</span> <span class="token function">grep</span> driver
lspci <span class="token parameter variable">-vv</span> <span class="token parameter variable">-s</span> <span class="token number">17</span>:00.1 <span class="token operator">|</span> <span class="token function">grep</span> driver
lspci <span class="token parameter variable">-vv</span> <span class="token parameter variable">-s</span> <span class="token number">17</span>:00.2 <span class="token operator">|</span> <span class="token function">grep</span> driver
lspci <span class="token parameter variable">-vv</span> <span class="token parameter variable">-s</span> <span class="token number">17</span>:00.3 <span class="token operator">|</span> <span class="token function">grep</span> driver

<span class="token comment">#출력이 없으면 드라이버가 없을을 의미합니다.</span>
<span class="token comment">#만약 Kernel driver in use: vfio-pci표시되면 불리 성공을 의미 합니다</span>
<span class="token comment">#만약 Kernel driver in user: snd_hda_intel와 유사내용 표시되면 설비는 다른 드라이버에 점유 됬음을 의미합니다</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>PCI가 vfio-pci에 의해 점유되지 않은 경우 다음 단계로 진행하고, vfio-pci에 의해 점유된 PCI가 있으면 다음 단계를 건너뜁니다.</p><ul><li>ip_forward전달 오픈여부 검사</li></ul><p>/proc/sys/net/bridge/bridge-nf-call-iptables 및 /proc/sys/net/bridge/bridge-nf-call-ip6tables 모두 1인지 검사합니다</p><h2 id="【f】-드라이버-kernel-driver-in-use-vfio-pci인-경우-다음-작업을-수행할-필요가-없습니다-단-바인딩-실패했을경우-계속-실행하십시오" tabindex="-1"><a class="header-anchor" href="#【f】-드라이버-kernel-driver-in-use-vfio-pci인-경우-다음-작업을-수행할-필요가-없습니다-단-바인딩-실패했을경우-계속-실행하십시오" aria-hidden="true">#</a> 【F】 드라이버 Kernel driver in use: vfio-pci인 경우 다음 작업을 수행할 필요가 없습니다 ,단 바인딩 실패했을경우 계속 실행하십시오</h2><p>1.기기 바인딩 해제</p><p>드라이버 Kernel driver in use: vfio-pci이 아닌 경우 기기 바인딩 해제(각 그룹 id 모두 바인딩 해제되어야 합니다. 다음은 예제입니다. 자체 검색된 pci 인터페이스에 따라 수정하십시오)</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#내용 교체에 주의 하십시오, 다음 명령은 데모용입니다 (점유된 모든 그래픽 카드 pci 인터페이스를 바인딩 해제해야합니다)</span>
<span class="token function">sudo</span> <span class="token parameter variable">-i</span>
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 0000:17:00.0 <span class="token operator">&gt;</span> /sys/bus/pci/devices/0000<span class="token punctuation">\</span>:17<span class="token punctuation">\</span>:00.0/driver/unbind
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 0000:83:00.0 <span class="token operator">&gt;</span> /sys/bus/pci/devices/0000<span class="token punctuation">\</span>:83<span class="token punctuation">\</span>:00.0/driver/unbind
<span class="token function">sudo</span> modprobe vfio
<span class="token function">sudo</span> modprobe vfio-pci
<span class="token function">sudo</span> <span class="token function">reboot</span>
<span class="token comment">#기기 다시 시작 및 GPU가 다른 OMMU그룹에서 분리되였는지 및 현재 사용중인 vfio 구동프로그램을 검사합니다</span>
<span class="token comment">#실행 명령 검사 GPU가 다른 IOMMU그룹에서 분리되였는지</span>
<span class="token function">find</span> /sys/kernel/iommu_groups/*/devices/*
<span class="token comment">#그룹화 표시되면 정상입니다</span>
<span class="token comment"># PCI다시 검색（교체 주의），만약 아직도 vfio-pci로 검색 혹은 다른 내용 표시되면, 다음 단계를 진행하십시오</span>
lspci <span class="token parameter variable">-vv</span> <span class="token parameter variable">-s</span> <span class="token number">17</span>:00.0 <span class="token operator">|</span> <span class="token function">grep</span> driver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.GPU수동 바인딩</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#명령실행하여 바인딩 진행 (주의：echo뒤 내용은 기기에서 검색한 그래픽 카드id입니다 ）이미 점유된 PCI는 추가 수동 바인딩 필요없습니다</span>
<span class="token function">sudo</span> <span class="token parameter variable">-i</span>
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 10de 1e82 <span class="token operator">&gt;</span> /sys/bus/pci/drivers/vfio-pci/new_id
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 10de <span class="token number">2206</span> <span class="token operator">&gt;&gt;</span> /sys/bus/pci/drivers/vfio-pci/new_id
.…………

<span class="token comment">#바인딩 완성후 다시 검사 （카드별 모든 항목 검사 필요 ）</span>
lspci <span class="token parameter variable">-vv</span> <span class="token parameter variable">-s</span> <span class="token number">17</span>:00.0 <span class="token operator">|</span> <span class="token function">grep</span> driver
<span class="token comment">#만약Kernel driver in use : vfio-pci 표시되면,바인딩 성공을 의미합니다. 성공안됬으면 다시 돌아가서 검사합세요</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【g】기기그래픽-카드가-vfio-pci에-의해-점유되고-있음을-확인한-후-libvirtd-서비스를-시작하고-기기-자동-시작을-설정합니다-이-설정-단계는-매우-중요합니다-올바르게-구성되지-않은-경우-정확한-요청을-수신할-수-없습니다-기계의-온체인-상태에-직접적인-영향을-미치고-임대에-영향을-미치며-손실발생합니다" tabindex="-1"><a class="header-anchor" href="#【g】기기그래픽-카드가-vfio-pci에-의해-점유되고-있음을-확인한-후-libvirtd-서비스를-시작하고-기기-자동-시작을-설정합니다-이-설정-단계는-매우-중요합니다-올바르게-구성되지-않은-경우-정확한-요청을-수신할-수-없습니다-기계의-온체인-상태에-직접적인-영향을-미치고-임대에-영향을-미치며-손실발생합니다" aria-hidden="true">#</a> 【G】기기그래픽 카드가 vfio-pci에 의해 점유되고 있음을 확인한 후 libvirtd 서비스를 시작하고 기기 자동 시작을 설정합니다(이 설정 단계는 매우 중요합니다 , 올바르게 구성되지 않은 경우 정확한 요청을 수신할 수 없습니다. 기계의 온체인 상태에 직접적인 영향을 미치고 임대에 영향을 미치며 손실발생합니다)</h2><p>1.virt tcp 수신 (감청)서비스 활성화</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>설정 파일 수정：
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/libvirt/libvirtd.conf
아래 두줄 못찾으면, 앞부분 <span class="token comment"># 부호 삭제:</span>
<span class="token comment">#listen_tls = 0</span>
<span class="token comment">#listen_tcp = 1</span>

이줄 찾으면,앞부분 <span class="token comment"># 부호 삭세 ,sasl을 none으로 수정：</span>
<span class="token comment">#auth_tcp = &quot;sasl&quot; ======&gt; auth_tcp = &quot;none&quot;</span>

<span class="token function">sudo</span> <span class="token function">vim</span> /etc/default/libvirtd
<span class="token comment">#이에 따가 다음 설정으로 수정 (소문자 L)</span>
<span class="token assign-left variable">libvirtd_opts</span><span class="token operator">=</span><span class="token string">&quot;-l&quot;</span>
ubuntu <span class="token number">20.04</span>관련，이하 단계 실행 필요 ：
systemctl mask libvirtd.socket libvirtd-ro.socket libvirtd-admin.socket libvirtd-tls.socket libvirtd-tcp.socket
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.libvirtd를 시작하여 자동 시작 설정 및 서비스 상태 확인</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart libvirtd.service
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> libvirtd.service
systemctl status libvirtd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.libvirtd 정상 작동 성공여부 테스트 진행</p><ul><li><p>virsh connect qemu+tcp://localhost:16509/system</p></li><li><p>출력 잘못이 없을경우 작동 성공을 의마합니다 ;</p></li></ul><h2 id="【i】dbc성능노드-프로그램-설치" tabindex="-1"><a class="header-anchor" href="#【i】dbc성능노드-프로그램-설치" aria-hidden="true">#</a> 【I】DBC성능노드 프로그램 설치</h2><ul><li><p>주의: DBC유저 설치 전환 필요</p><p>1.dbc성능 노드 설치 스크립트 다운로드:<a href="http://112.192.16.27:9000/dbc/install_update_script/mainnet/install_mining.sh" target="_blank" rel="noopener noreferrer">http://112.192.16.27:9000/dbc/install_update_script/mainnet/install_mining.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>2.설치 스크립트에 실행가능 권한 추가:명령줄에서 실행 :chmod +x ./install_mining.sh</p><p>3.설치 스크립트 운행 :명령줄에서 실행 ./install_mining.sh [설치목차] (설치 과정중, 유저가 2개의 로컬 수신감청 포트 번호 입력해야합니다)</p></li></ul><h2 id="【j】미러이미지-모델-다운로드-data-목차에-넣으면-dbc가-가상-기기-시작하고-data-목차로-이동하여-검색합니다" tabindex="-1"><a class="header-anchor" href="#【j】미러이미지-모델-다운로드-data-목차에-넣으면-dbc가-가상-기기-시작하고-data-목차로-이동하여-검색합니다" aria-hidden="true">#</a> 【J】미러이미지 모델 다운로드(/data 목차에 넣으면 dbc가 가상 기기 시작하고 /data 목차로 이동하여 검색합니다)</h2><p><a href="http://112.192.16.27:9000/image" target="_blank" rel="noopener noreferrer">http://112.192.16.27:9000/image<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 다운로드：ubuntu.qcow2 和 ubuntu-2004.qcow2 이두개의 미러이미지#</p><h2 id="【k】기기-아이디-및-개인키-백업-매우-중요합니다-개인키-분실-시-담보된-코인의-50-가-손실되므로-여러곳에-백업해-두시기-바랍니다" tabindex="-1"><a class="header-anchor" href="#【k】기기-아이디-및-개인키-백업-매우-중요합니다-개인키-분실-시-담보된-코인의-50-가-손실되므로-여러곳에-백업해-두시기-바랍니다" aria-hidden="true">#</a> 【K】기기 아이디 및 개인키 백업(매우 중요합니다, 개인키 분실 시 담보된 코인의 50%가 손실되므로 여러곳에 백업해 두시기 바랍니다)</h2><p>목차에 dat/node.dat 파일을 설치 백업하여 안전한 곳에 보관하시고, 추후 리부팅하거나 DBC를 재설치 하실 경우에는 기존 아이디와 개인키를 사용하셔야 하며, 그렇지 않을 경우 담보된 코인이 차감됩니다.</p><h2 id="【l】앞부분-정상-설정-여부-검사-하기-위해-그래픽카드-직통의-가상기기-생성-및-테스트합니다" tabindex="-1"><a class="header-anchor" href="#【l】앞부분-정상-설정-여부-검사-하기-위해-그래픽카드-직통의-가상기기-생성-및-테스트합니다" aria-hidden="true">#</a> 【L】앞부분 정상 설정 여부 검사 하기 위해 , 그래픽카드 직통의 가상기기 생성 및 테스트합니다</h2><ul><li><p>테스트 프로그램 다운로드 주소 :<a href="http://112.192.16.27:9000/dbc/package/check_env" target="_blank" rel="noopener noreferrer">http://112.192.16.27:9000/dbc/package/check_env<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>바이너리 파일, 실행 권한 추가 및 직접 실행: chmod 777 chec_env ; ./check_env</p></li><li><p>check vm domain_test successful녹색 표시되면 성공 의미, 표시 안되면 앞부분 설치 정확여부 검사 확인 합니다​</p></li></ul><h2 id="【m】기기의-각종-하드웨이-파라미터-지침-정상여부-검사" tabindex="-1"><a class="header-anchor" href="#【m】기기의-각종-하드웨이-파라미터-지침-정상여부-검사" aria-hidden="true">#</a> 【M】기기의 각종 하드웨이 파라미터 지침 정상여부 검사</h2><ul><li>만약 O단계 검사 성공하면, 한개의 가상기기가 성공적으로 생성됩니다, ssh통해 등록하여 이 가상기기 내부에 진입합니다, 이중 : vm_local_ip는 가상기기 내부네트웍의 ip주소입니다，유저는 dbc,pwd후에는 등록 비밀번호 입니다</li></ul><img width="542" alt="1629202906(1)" src="https://user-images.githubusercontent.com/32829693/129724788-d50728cd-913b-4e91-8d0b-e53a098da091.png"><p>이후 cd 테스트 스크립트 목차로 이동, 운행: 【pytest .】，</p><p>▶cd /test/dbc_gpu_server_test/</p><p>▶sudo -i (root유저로 전환)</p><p>▶pytest .</p><ul><li>총 18항목 테스트 :</li></ul><p>▶10항목 유닛 테스트, CPU, 메모리, 하드 디스크, 그래픽 카드, 비디오 메모리, cuda 사용성 등 테스트;</p><p>▶7항목 통합 테스트, 다양한 실제 사용 조건(예: pytorch 컴퓨팅, 교육 및 추론)이 정상적인지 테스트하고 잠재적인 하드웨어 오류 제거;</p><p>▶1항목 벤치마크 속도테스트,열몇가지의 CNN네트웍 훈련 및 추론 테스트,10분동안 지속;</p><p>▶ 빨간색 오류가 없으면 통과하고 빨간색 F / 오류가 있으면 오류에 해당하는 테스트 항목이 표시되며 정보에 따라 확인 가능;</p><p>▶2080ti 카드 4개의 전체 테스트 과정은 약 10분 정도 소요되며, 테스트 시간 너무 길고 30분 이상초과시 기기에 문제가 있을 수 있으며 테스트가 사전에 종료될 수 있습니다. (종료되지 않은 경우 테스트가 완료된 후 오류가 보고됩니다);</p><p>▶테스트 결과에서 short test summary info: 모두 통과하면 테스트가 통과되었음을 의미하고 한 항목이 실패할 경우 테스트가 실패했음을 의미하며 고장을 확인해야 합니다;</p><p>▶종료 후 결과 폴더 생성 및 성능 보고서 내보내기;</p><ul><li><p>호스트 기기로 돌아가 테스트한 가상 기기를 종료하고 삭제합니다：./check_env --localip x.x.x.x （x.x.x.x는 가상기기 내부 네트웍 ip주소입니다,이단계 진행 안할경우, dbc프로그램에서 새로운 가상기기 작동이 불가합니다, 하여 메인넷 올릴수 없으며 검증도 못받습니다 )</p></li><li><p>iptable명령 실행，기기 네트웍 방문 권한 오픈:（이단계 진행 안할경우, 외부에서 가상기기 방문 불가입니다 )</p><p>▶iptables -D LIBVIRT_FWI 2 -t filter</p></li></ul><p>▶iptables -D LIBVIRT_FWO 2 -t filter</p><h2 id="【n】기기가-컴퓨팅-네트워크에-정상적으로-연결되었는지-확인합니다" tabindex="-1"><a class="header-anchor" href="#【n】기기가-컴퓨팅-네트워크에-정상적으로-연결되었는지-확인합니다" aria-hidden="true">#</a> 【N】기기가 컴퓨팅 네트워크에 정상적으로 연결되었는지 확인합니다</h2><ul><li>클라이언트 노드를 구축하기위한 컴퓨팅 풀은 다음을 참조하십시오 :install_update_dbc_client_cn.md</li></ul><ul><li><p>1분 후 클라이언트를 통해 기계 정보를 요청합니다. 기계 정보를 찾을 수 있으면 기계가 네트워크에 연결된 것입니다. 기계 정보를 요청하려면 다음을 참조하십시오:dbc_client_http_api</p></li><li><p>클라이언트 노드 관련:각 컴퓨팅풀은 2개 이상의 클라이언트 노드를 구축하여 주주최측 또는 다른 컴퓨팅 풀에서 제공하는 노드가 오프라인 상태일지라도 네트워크가 정상임을 보장할 것을 권장합니다.만약 네트웍중 클라이언트 노드가 너무 적어 혹은 자주 오프상태일경우, 기기 임대에 영향을 미칩니다.클라이언트 노드 구축은 다른 서버의 컨테이너 작동으로 진행할수있으며, 많은 리소스를 차지하지 않습니다.</p></li></ul><ul><li>클라이언트 노드는 컴퓨팅 파워 노드와 동일 기기에 배포할 수 있으므로 각 노드의 conf/core.conf 설정 파일에서 포트 번호를 중복되지 않도록 주의하십시오.</li></ul><h2 id="【o】기기-온체인" tabindex="-1"><a class="header-anchor" href="#【o】기기-온체인" aria-hidden="true">#</a> 【O】기기 온체인</h2><p><a href="https://github.com/DeepBrainChain/DBC-DOC/blob/master/chain_ops/bonding_machine.md#%E6%9C%BA%E5%99%A8%E4%B8%8A%E7%BA%BF%E6%AD%A5%E9%AA%A4" target="_blank" rel="noopener noreferrer">https://github.com/DeepBrainChain/DBC-DOC/blob/master/chain_ops/bonding_machine.md#机器上线步骤<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="dbc-방송-모니터링" tabindex="-1"><a class="header-anchor" href="#dbc-방송-모니터링" aria-hidden="true">#</a> DBC 방송 모니터링</h2><blockquote><p>채굴자는 머신이 유휴 상태일 때 자신이 사용하기 위해 가상 머신을 시작할 수 있지만, 사용자가 임대한 경우에는 사용 중인 가상 머신을 10초 이내에 종료해야 사용자에게 신고 및 처벌을 받을 수 없습니다. UDP 브로드캐스트 관련 메시지는 다음과 같습니다.</p></blockquote><ul node_id:xxx,status:비어있음=""><li>dbc 노드는 인트라넷에서 장치 node_id와 해당 상태를 브로드캐스트합니다.</li><li>브로드캐스트 주소: UDP 브로드캐스트 255.255.255.255 포트 55555</li><li node_id:xxx,status:renting="">방송 콘텐츠:</li><li>암호화 방식: base64 암호화</li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/DeepBrainChain/DBC-Wiki/edit/main/docs/kr/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 2305492203@qq.com">ytvchsy</span>,<!--]--><!--[--><span class="contributor" title="email: dongkaige@gmail.com">kaigedong</span>,<!--]--><!--[--><span class="contributor" title="email: 1364812552@qq.com">Jerry</span>,<!--]--><!--[--><span class="contributor" title="email: 38344234+kaigedong@users.noreply.github.com">kaigedong</span><!--]--><!--]--></div></div></footer><!----><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">MIT Licensed | Copyright © 2017-Present DeepBrainChain</div><!----></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/DBC-Wiki/assets/app-c506e6ea.js" defer></script>
  </body>
</html>
