import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";import{o as s,c as a,a as e}from"./app.38166bb6.js";const i={},t=e(`<h1 id="dbc-\u110F\u1165\u11B7\u1111\u1172\u1110\u1175\u11BC-\u1102\u1169\u1103\u1173-\u1109\u1165\u11AF\u110E\u1175" tabindex="-1"><a class="header-anchor" href="#dbc-\u110F\u1165\u11B7\u1111\u1172\u1110\u1175\u11BC-\u1102\u1169\u1103\u1173-\u1109\u1165\u11AF\u110E\u1175" aria-hidden="true">#</a> DBC \uCEF4\uD4E8\uD305 \uB178\uB4DC \uC124\uCE58</h1><h2 id="\u3010a\u3011\u1109\u1165\u11AF\u110E\u1175\u110C\u1165\u11AB-\u110C\u116E\u11AB\u1107\u1175-\u1100\u116E\u1109\u1165\u11BC\u1103\u116C\u11AB-\u1100\u1169\u110C\u1165\u11BC-\u1100\u1169\u11BC\u110B\u116D\u11BC-ip-\u110C\u116E\u1109\u1169-\u1100\u1175\u1107\u1161\u11AB-kvm\u1109\u1165\u11AF\u110E\u1175-\u1112\u116A\u11AB\u1100\u1167\u11BC-\u1107\u1162\u1111\u1169" tabindex="-1"><a class="header-anchor" href="#\u3010a\u3011\u1109\u1165\u11AF\u110E\u1175\u110C\u1165\u11AB-\u110C\u116E\u11AB\u1107\u1175-\u1100\u116E\u1109\u1165\u11BC\u1103\u116C\u11AB-\u1100\u1169\u110C\u1165\u11BC-\u1100\u1169\u11BC\u110B\u116D\u11BC-ip-\u110C\u116E\u1109\u1169-\u1100\u1175\u1107\u1161\u11AB-kvm\u1109\u1165\u11AF\u110E\u1175-\u1112\u116A\u11AB\u1100\u1167\u11BC-\u1107\u1162\u1111\u1169" aria-hidden="true">#</a> \u3010A\u3011\uC124\uCE58\uC804 \uC900\uBE44 (\uAD6C\uC131\uB41C \uACE0\uC815 \uACF5\uC6A9 IP \uC8FC\uC18C \uAE30\uBC18),KVM\uC124\uCE58 \uD658\uACBD \uBC30\uD3EC</h2><p>\uC2DC\uC2A4\uD15C\uC740 ubuntu18.04 LTS \uB610\uB294 20.04LTS\uB97C \uCC44\uD0DD\uD558\uACE0 \uC2DC\uC791\uD558\uAE30 \uC804\uC5D0 \uAE30\uC874 \uC124\uCE58\uB41C \uADF8\uB798\uD53D \uCE74\uB4DC \uB4DC\uB77C\uC774\uBC84\uB97C \uC81C\uAC70\uD558\uC2ED\uC2DC\uC624. \uC774 \uC791\uC5C5\uC5D0\uB294 \uADF8\uB798\uD53D \uCE74\uB4DC \uB4DC\uB77C\uC774\uBC84\uAC00 \uD3EC\uD568\uB420 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;140.82.114.4 gitub.com&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/hosts
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;199.232.5.194 github.global.ssl.fastly.net&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/hosts
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;nameserver 8.8.4.4&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/resolv.conf <span class="token operator">&gt;</span> /dev/null
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade -y
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> qemu-kvm libvirt-clients libvirt-daemon-system bridge-utils virt-manager ovmf cpu-checker <span class="token function">vim</span> <span class="token function">expect</span> -y
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u3010b\u3011xfs-\u1111\u1161\u110B\u1175\u11AF-\u1109\u1175\u1109\u1173\u1110\u1166\u11B7-\u1109\u1162\u11BC\u1109\u1165\u11BC-\u1106\u1175\u11BE-\u1106\u1161\u110B\u116E\u11AB\u1110\u1173" tabindex="-1"><a class="header-anchor" href="#\u3010b\u3011xfs-\u1111\u1161\u110B\u1175\u11AF-\u1109\u1175\u1109\u1173\u1110\u1166\u11B7-\u1109\u1162\u11BC\u1109\u1165\u11BC-\u1106\u1175\u11BE-\u1106\u1161\u110B\u116E\u11AB\u1110\u1173" aria-hidden="true">#</a> \u3010B\u3011XFS \uD30C\uC77C \uC2DC\uC2A4\uD15C \uC0DD\uC131 \uBC0F \uB9C8\uC6B4\uD2B8</h2><p>1.\uD558\uB4DC\uB514\uC2A4\uD06C \uD30C\uD2F0\uC158 \uBCF4\uAE30</p><p><code>lsblk</code></p><p>2.\uB370\uC774\uD130 \uB514\uC2A4\uD06C \uD30C\uC77C \uC0DD\uC131 \uBC0F \uD558\uB4DC\uB514\uC2A4\uD06C \uACA9\uC2DD\uD654, \uD558\uB4DC\uB514\uC2A4\uD06C \uB9C8\uC6B4\uB4DC(\uB370\uC774\uD130\uB514\uC2A4\uD06C \uB9C8\uC6B4\uD2B8 \uBAA9\uCC28 \uD544\uC218/data)</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> /data
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> xfsprogs -y
<span class="token function">sudo</span> mkfs.xfs -n <span class="token assign-left variable">ftype</span><span class="token operator">=</span><span class="token number">1</span> -f /dev/sdb \uFF08\uC5EC\uAE30\uC11Csdb\uC778\uC9C0 \uC5EC\uBD80\uB294lsblk\uC0C1\uD669\uC5D0 \uB530\uB77C \uB2E4\uB985\uB2C8\uB2E4\uFF09
<span class="token function">sudo</span> <span class="token function">mount</span> -o pquota /dev/sdb /data
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">777</span> /data
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;/dev/sdb /data xfs pquota 0 1&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/fstab
<span class="token function">sudo</span> <span class="token function">mount</span> -a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u3010c\u3011\u1100\u1175\u1100\u1175-\u1100\u1161\u1109\u1161\u11BC\u1112\u116A-\u110C\u1175\u110B\u116F\u11AB-\u110B\u1167\u1107\u116E-\u1111\u1161\u11AB\u110C\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u3010c\u3011\u1100\u1175\u1100\u1175-\u1100\u1161\u1109\u1161\u11BC\u1112\u116A-\u110C\u1175\u110B\u116F\u11AB-\u110B\u1167\u1107\u116E-\u1111\u1161\u11AB\u110C\u1165\u11BC" aria-hidden="true">#</a> \u3010C\u3011\uAE30\uAE30 \uAC00\uC0C1\uD654 \uC9C0\uC6D0 \uC5EC\uBD80 \uD310\uC815</h2><p>1.\uD558\uB4DC\uC6E8\uC5B4 \uC9C0\uC6D0 \uD65C\uC131\uD654</p><p>BIOS VT-d\uD65C\uC131\uD654 (AMD\uD50C\uB7AB\uD3FC\uC77C \uACBD\uC6B0,AMD-Vi\uB97C \uCF1C\uC57C\uD569\uB2C8\uB2E4, \uAD6C\uCCB4\uC801\uC778 \uC791\uC5C5\uC740 \uBA54\uC778\uBCF4\uB4DC \uC720\uD615 \uBE0C\uB77C\uC6B0\uC800\uC5D0 \uB530\uB77C \uAC80\uC0C9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4)VT(VT-x) \uBC0F VT-d \uC9C0\uC6D0.AMD\uB294 AMD-Vi\uB85C \uBD80\uB985\uB2C8\uB2E4.\uAD00\uB828 \uC9C0\uC6D0\uC744 enable \uC124\uCE58\uC9C4\uD589 ,\uAE30\uBCF8\uC801\uC73C\uB85C \uCF1C\uC9D0)</p><p>\uC77C\uBC18\uC801 \uACBD\uB85C:Processor\u2014IIO Configuration\u2014Intel@ VT for Directed I/O(VT-d)</p><p>2.\uD658\uACBD \uC758\uC874, CPU\uAC00 \uAC00\uC0C1\uD654\uB97C \uC9C0\uC6D0\uD558\uB294\uC9C0, KVM\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC788\uB294\uC9C0 \uD655\uC778\uD569\uB2C8\uB2E4</p><p>egrep -c &#39;(svm|vm)&#39; /proc/cpuinfo</p><p>CPU\uAC80\uC0AC , 0\uC73C\uB85C \uD45C\uC2DC\uB418\uBA74, \uAC00\uC0C1\uD654 \uC9C0\uC6D0\uC774 \uC548\uB429\uB2C8\uB2E4</p><p>kvm-ok</p><p>kvm \uC0AC\uC6A9\uAC00\uB2A5 \uC5EC\uBD80 \uAC80\uC0AC</p><p>INFO \uD45C\uC2DC : /dev/kvm exists</p><p>KVM acceleration can be used \uD6C4\uC18D \uC791\uC5C5\uC744 \uC218\uD589\uD560 \uC218 \uC788\uC74C\uC744 \uD45C\uC2DC\uD569\uB2C8\uB2E4, \uD45C\uC2DC\uAC00 \uC77C\uCE58\uD558\uC9C0 \uC54A\uC73C\uBA74 VT-d\uAC00 \uC815\uC0C1\uC801\uC73C\uB85C \uCF1C\uC838 \uC788\uB294\uC9C0 \uD655\uC778\uD558\uC2ED\uC2DC\uC624.</p><p>3.ip_forward\uC804\uB2EC \uC624\uD508\uC5EC\uBD80 \uAC80\uC0AC</p><p>/proc/sys/net/ipv4/ip_forward 1\uC778\uC9C0 \uD655\uC778 , 1\uC544\uB2D0\uACBD\uC6B0 \uC9D1\uD589\uD569\uB2C8\uB2E4:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">sh</span> -c <span class="token string">&#39;echo &quot;net.ipv4.ip_forward=1&quot; &gt;&gt; /etc/sysctl.conf&#39;</span>
<span class="token function">sudo</span> sysctl -p
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>lsmod | grep br_netfilter\uC218\uCD9C\uC5EC\uBD80 \uD655\uC778, \uC218\uCD9C \uC548\uB420\uACBD\uC6B0 \uC9D1\uD589\uD569\uB2C8\uB2E4 :</p><p>1.sudo sh -c &#39;echo &quot;br_netfilter&quot; &gt; /etc/modules-load.d/br_netfilter.conf&#39;</p><p>\uC9D1\uD589\uC644\uB8CC \uD6C4 \uB2E4\uC2DC \uC2DC\uC791 \uD544\uC694 ,\uD639\uC740 \uADF8\uB798\uD53D\uCE74\uB4DC \uC124\uCE58 \uC9C1\uD1B5 \uD6C4 \uB3D9\uC2DC \uB2E4\uC2DC \uC2DC\uC791 \uD569\uB2C8\uB2E4</p><p>20.04 \uC2DC\uC2A4\uD15C\uC778 \uACBD\uC6B0 \uB2E4\uC74C\uC744 \uC218\uD589\uD558\uC2ED\uC2DC\uC624. vfio-pci\uC5D0 \uB300\uD574 \uB2E4\uB978 \uB2E8\uACC4\uB97C \uC218\uD589\uD560 \uD544\uC694\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. ubuntu18.04 \uC2DC\uC2A4\uD15C\uC778 \uACBD\uC6B0 \uB124 \uBC88\uC9F8 \uB2E8\uACC4\uC5D0 \uB530\uB77C \uC791\uC5C5\uC744 \uC2DC\uC791\uD558\uC2ED\uC2DC\uC624.</p><ul><li>\uBE14\uB799\uB9AC\uC2A4\uD2B8 \uC124\uC815 , \uCE74\uB4DC \uACF5\uAC04 \uD655\uBCF4</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modprobe.d/blacklist.conf
<span class="token comment">#\uCD5C\uC885 \uCD94\uAC00 \uB0B4\uC6A9\uFF1A</span>
blacklist snd_hda_intel
blacklist amd76x_edac
blacklist vga16fb
blacklist nouveau
blacklist rivafb
blacklist nvidiafb
blacklist rivatv
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\uADF8\uB798\uD53D \uCE74\uB4DC \uC9C1\uD1B5 \uC124\uC815</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#\uADF8\uB798\uD53D\uCE74\uB4DC ID  \uAC80\uC0C9</span>
lspci -nnv <span class="token operator">|</span> <span class="token function">grep</span> NVIDIA
\uADF8\uB798\uD53D\uCE74\uB4DCid \uBCF5\uC81C\uFF0C\uC608 10de:2231 10de:1aef\uFF0C\uC911\uBCF5 \uB0B4\uC6A9\uC740 \uC624\uC9C1 \uD55C\uBC88\uB9CC  \uC800\uC7A5
<span class="token comment">#\uCEE4\uB110 \uD30C\uC77C \uC218\uC815</span>
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/default/grub
<span class="token comment">#GRUB_CMDLINE_LINUX_DEFAULT\uBB38\uAD6C\uC5D0 \uCD94\uAC00\uFF08MD\uD50C\uB7AB\uD3FC \uC77C \uACBD\uC6B0\uFF0Cintel_iommu=on\uC744 amd_iommu=on\uC73C\uB85C \uC218\uC815)</span>
quiet splash <span class="token assign-left variable">intel_iommu</span><span class="token operator">=</span>on kvm.ignore_msrs<span class="token operator">=</span><span class="token number">1</span> vfio-pci.ids<span class="token operator">=</span><span class="token operator">&lt;</span>\uADF8\uB798\uD53D \uCE74\uB4DCid\uFF0C\uC27C\uD45C\uB85C \uC911\uAC04 \uAD6C\uBD84<span class="token operator">&gt;</span>
<span class="token comment">#\uCEE4\uB110 \uC5C5\uB370\uC774\uD2B8</span>
<span class="token function">sudo</span> <span class="token function">update-grub</span>
<span class="token comment">#\uAE30\uAE30 \uB2E4\uC2DC \uC2DC\uC791</span>
<span class="token comment">#\uADF8\uB798\uD53D \uCE74\uB4DC \uC0AC\uC6A9\uB7C9 \uAC80\uC0C9</span>
lspci -vv -s <span class="token operator">&lt;</span>\uADF8\uB798\uD53D \uCE74\uB4DC PCI\uC778\uD130\uD398\uC774\uC2A4<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token function">grep</span> driver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vfio-pci\uAC00 \uD45C\uC2DC\uB418\uBA74 \uC815\uC0C1\uC785\uB2C8\uB2E4, vfio-pci\uAC00 \uC544\uB2C8\uBA74 \uB3CC\uC544\uAC00\uC11C grub \uD30C\uC77C\uC774 \uC62C\uBC14\uB974\uAC8C \uC791\uC131\uB418\uC5C8\uB294\uC9C0 \uD655\uC778\uD558\uAC70\uB098 \uC5EC\uC12F \uBC88\uC9F8 \uB2E8\uACC4 2\uC5D0 \uB530\uB77C \uC218\uB3D9\uC73C\uB85C \uBC14\uC778\uB529\uD558\uC2ED\uC2DC\uC624.</p><ul><li>ip_forward\uC804\uB2EC \uC624\uD508\uC5EC\uBD80 \uAC80\uC0AC</li></ul><p>/proc/sys/net/bridge/bridge-nf-call-iptables \uBC0F /proc/sys/net/bridge/bridge-nf-call-ip6tables \uBAA8\uB450 =1 \uC5EC\uBD80 \uAC80\uC0AC</p><p>20.04LTS\uC2DC\uC2A4\uD15C \uADF8\uB798\uD53D \uCE74\uB4DC \uACA9\uB9AC \uB2E8\uACC4 \uC5EC\uAE30\uC11C \uB9C8\uBB34\uB9AC \uB429\uB2C8\uB2E4, \uB2E8\uACC4 7\uB85C \uB3CC\uC544\uAC00 \uC2E4\uD589 \uD558\uC2ED\uC2DC\uC624.</p><h2 id="\u3010d\u3011\u1109\u1175\u1109\u1173\u1110\u1166\u11B7-\u1100\u1173\u1105\u116E\u11B8\u1112\u116A-\u1112\u116A\u11AF\u1109\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u3010d\u3011\u1109\u1175\u1109\u1173\u1110\u1166\u11B7-\u1100\u1173\u1105\u116E\u11B8\u1112\u116A-\u1112\u116A\u11AF\u1109\u1165\u11BC" aria-hidden="true">#</a> \u3010D\u3011\uC2DC\uC2A4\uD15C \uADF8\uB8F9\uD654 \uD65C\uC131</h2><ol><li>iommu\uADF8\uB8F9\uD654 \uAD6C\uC131</li></ol><p>(\uB2E4\uC74C \uB0B4\uC6A9\uC5D0\uC11C \uC11C\uBC84 \uD50C\uB7AB\uD3FC\uC5D0 \uB530\uB77C iommu\uB97C \uAD50\uCCB4\uD558\uC2ED\uC2DC\uC624. intel\uC740 intel_iommu\uB97C \uC0AC\uC6A9\uD558\uACE0 AMD\uB294 amd_iommu\uB97C \uC0AC\uC6A9\uD558\uC2ED\uC2DC\uC624.)</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/default/grub
<span class="token comment">#GRUB_CMDLINE_LINUX_DEFAULT\uBB38\uAD6C\uC5D0 \uCD94\uAC00 (quiet splash \uC774\uB450\uAC00\uC9C0 \uC788\uC73C\uBA74 \uC911\uBCF5 \uCD94\uAC00 \uD544\uC694\uC5C6\uC2B5\uB2C8\uB2E4 \uFF09</span>
quiet splash <span class="token assign-left variable">intel_iommu</span><span class="token operator">=</span>on <span class="token assign-left variable">iommu</span><span class="token operator">=</span>pt rd.driver.pre<span class="token operator">=</span>vfio-pci
<span class="token comment">#GRUB_CMDLINE_LINUX\uBB38\uAD6C\uC5D0 \uCD94\uAC00</span>
<span class="token assign-left variable">intel_iommu</span><span class="token operator">=</span>on <span class="token assign-left variable">iommu</span><span class="token operator">=</span>pt rd.driver.pre<span class="token operator">=</span>vfio-pci
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.\uAD6C\uC131 \uB3C4\uBBAC \uD30C\uC77C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modules
<span class="token comment">#\uD558\uAE30 \uB0B4\uC6A9 \uCD94\uAC00\uFF1A</span>
pci_stub
vfio
vfio_iommu_type1
vfio_pci
kvm
kvm_intel
<span class="token comment">#grub.cfg\uD30C\uC77C \uC5C5\uB370\uC774\uD2B8</span>
<span class="token function">sudo</span> <span class="token function">update-grub</span>
<span class="token comment">#\uAE30\uAE30 \uB2E4\uC2DC \uC2DC\uC791\uFF0Ciommu\uC815\uC0C1 \uC624\uD508 \uC5EC\uBD80 \uAC80\uC0AC\uFF08\uD639\uC740 \uCD94\uD6C4 \uC2E4\uD589 \uC644\uB8CC \uD6C4 \uB3D9\uC2DC \uB2E4\uC2DC\uC2DC\uC791 \uAC80\uC0AC\uD569\uB2C8\uB2E4 \uFF09</span>
<span class="token function">dmesg</span> <span class="token operator">|</span> <span class="token function">grep</span> -i iommu
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>[ 3.887539] pci 0000:83:00.1: Adding to iommu group 46 \uC640 \uAC19\uC774 \uC720\uC0AC \uD45C\uC2DC \uB418\uBA74,\uC624\uD508 \uC131\uACF5\uB42C\uC74C\uC744 \uB73B\uD569\uB2C8\uB2E4</p><h2 id="\u3010e\u3011gpu-\u1105\u1175\u1109\u1169\u1109\u1173-\u1100\u1167\u11A8\u1105\u1175" tabindex="-1"><a class="header-anchor" href="#\u3010e\u3011gpu-\u1105\u1175\u1109\u1169\u1109\u1173-\u1100\u1167\u11A8\u1105\u1175" aria-hidden="true">#</a> \u3010E\u3011GPU \uB9AC\uC18C\uC2A4 \uACA9\uB9AC</h2><ol><li>\uBE14\uB799\uB9AC\uC2A4\uD2B8 \uC124\uC815, \uCE74\uB4DC \uACF5\uAC04 \uD655\uBCF4</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modprobe.d/blacklist.conf
<span class="token comment">#\uCD5C\uC885 \uCD94\uAC00 \uB0B4\uC6A9 \uFF1A</span>
blacklist snd_hda_intel
blacklist amd76x_edac
blacklist vga16fb
blacklist nouveau
blacklist rivafb
blacklist nvidiafb
blacklist rivatv
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.PCI \uC124\uBE44\uC815\uBCF4 \uC218\uC9D1</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>lspci -nnv <span class="token operator">|</span> <span class="token function">grep</span> NVIDIA
<span class="token comment">#\uC720\uC0AC \uD45C\uC2DC</span>
<span class="token number">17</span>:00.0 VGA compatible controller <span class="token punctuation">[</span>0300<span class="token punctuation">]</span>: NVIDIA Corporation TU104 <span class="token punctuation">[</span>GeForce RTX <span class="token number">2080</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>10de:1e82<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if 00 <span class="token punctuation">[</span>VGA controller<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">17</span>:00.1 Audio device <span class="token punctuation">[</span>0403<span class="token punctuation">]</span>: NVIDIA Corporation TU104 HD Audio Controller <span class="token punctuation">[</span>10de:10f8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token number">17</span>:00.2 USB controller <span class="token punctuation">[</span>0c03<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB <span class="token number">3.1</span> Host Controller <span class="token punctuation">[</span>10de:1ad8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if <span class="token number">30</span> <span class="token punctuation">[</span>XHCI<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">17</span>:00.3 Serial bus controller <span class="token punctuation">[</span>0c80<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB Type-C UCSI Controller <span class="token punctuation">[</span>10de:1ad9<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token number">65</span>:00.0 VGA compatible controller <span class="token punctuation">[</span>0300<span class="token punctuation">]</span>: NVIDIA Corporation TU104 <span class="token punctuation">[</span>GeForce RTX <span class="token number">2080</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>10de:1e82<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if 00 <span class="token punctuation">[</span>VGA controller<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">65</span>:00.1 Audio device <span class="token punctuation">[</span>0403<span class="token punctuation">]</span>: NVIDIA Corporation TU104 HD Audio Controller <span class="token punctuation">[</span>10de:10f8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token number">65</span>:00.2 USB controller <span class="token punctuation">[</span>0c03<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB <span class="token number">3.1</span> Host Controller <span class="token punctuation">[</span>10de:1ad8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if <span class="token number">30</span> <span class="token punctuation">[</span>XHCI<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">65</span>:00.3 Serial bus controller <span class="token punctuation">[</span>0c80<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB Type-C UCSI Controller <span class="token punctuation">[</span>10de:1ad9<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span>
<span class="token comment">#\uBAA8\uB4E0 \uC124\uBE44 \uCF54\uB4DC \uBC0F PCI id \uAE30\uB85D(\uC911\uBCF5 \uCF54\uB4DC \uC624\uC9C1 \uD55C\uBC88 \uC5BB\uC74C)</span>
<span class="token comment">#\uC608\uFF1A</span>
<span class="token comment">#\uC124\uBE44\uCF54\uB4DC\uFF1A</span>
10de:1e82,10de:10f8,10de:1ad8,10de:1ad9 \uFF08\uC911\uBCF5 \uC624\uC9C1 \uD55C\uBC88 \uAE30\uB85D\uC774\uBA74 \uB429\uB2C8\uB2E4 \uFF09
<span class="token comment">#PCI id\uC778\uD130\uD398\uC774\uC2A4\uFF08\uAE30\uAE30\uBCC4 PCI\uC778\uD130\uD398\uC774\uC2A4 \uB2E4\uB985\uB2C8\uB2E4, \uC8FC\uC758\uD558\uC5EC \uAE30\uB85D\uD558\uC2ED\uC2DC\uC624\uFF09</span>
<span class="token number">17</span>:00.0
<span class="token number">17</span>:00.1
<span class="token number">17</span>:00.2
<span class="token number">17</span>:00.3
<span class="token number">65</span>:00.0
<span class="token number">65</span>:00.1
<span class="token number">65</span>:00.2
<span class="token number">65</span>:00.3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.vfio\uC124\uC815 \uBC0F \uC9C1\uD1B5\uC6A9 GPU \uBD84\uB9AC</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modprobe.d/vfio.conf
<span class="token comment">#\uC0C1\uAE30 \uC218\uC9D1\uD55C \uC124\uBE44 \uCF54\uB4DC \uC815\uBCF4 \uAE30\uC785 (\uC911\uBCF5\uB420\uACA8\uC6B0, \uD55C\uBC88\uB9CC \uAE30\uC785\uD558\uBA74 \uB429\uB2C8\uB2E4)\uFF1A</span>
options vfio-pci <span class="token assign-left variable">ids</span><span class="token operator">=</span>10de:1e82,10de:10f8,10de:1ad8,10de:1ad9
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/modules-load.d/vfio-pci.conf
<span class="token comment">#\uC774\uD558 \uB0B4\uC6A9 \uAE30\uC785</span>
vfio-pci kvmgt vfio-iommu-type1 vfio-mdev
<span class="token comment">#\uAE30\uAE30 \uB2E4\uC2DC \uC2DC\uC791</span>
<span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4.GPU\uC0C1\uD0DC \uD655\uC778 (\uBAA8\uB4E0 \uC778\uD130\uD398\uC774\uC2A4 \uBAA8\uB450 \uAC80\uC0C9 , vfio-pci\uC810\uC720\uB418\uC9C0 \uC548\uB294\uAC83\uC744 \uBC29\uC9C0\uD569\uB2C8\uB2E4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#PCI\uC778\uD130\uD398\uC774\uC2A4 \uB0B4\uC6A9 \uAD50\uCCB4 \uC8FC\uC758 \uD558\uC2ED\uC2DC\uC624 \uFF01</span>
lspci -vv -s <span class="token operator">&lt;</span>PCI\u63A5\u53E3<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token function">grep</span> driver
<span class="token comment">#\uC608\uFF1A</span>
lspci -vv -s <span class="token number">17</span>:00.0 <span class="token operator">|</span> <span class="token function">grep</span> driver
lspci -vv -s <span class="token number">17</span>:00.1 <span class="token operator">|</span> <span class="token function">grep</span> driver
lspci -vv -s <span class="token number">17</span>:00.2 <span class="token operator">|</span> <span class="token function">grep</span> driver
lspci -vv -s <span class="token number">17</span>:00.3 <span class="token operator">|</span> <span class="token function">grep</span> driver

<span class="token comment">#\uCD9C\uB825\uC774 \uC5C6\uC73C\uBA74 \uB4DC\uB77C\uC774\uBC84\uAC00 \uC5C6\uC744\uC744 \uC758\uBBF8\uD569\uB2C8\uB2E4.</span>
<span class="token comment">#\uB9CC\uC57D Kernel driver in use: vfio-pci\uD45C\uC2DC\uB418\uBA74 \uBD88\uB9AC \uC131\uACF5\uC744 \uC758\uBBF8 \uD569\uB2C8\uB2E4</span>
<span class="token comment">#\uB9CC\uC57D Kernel driver in user: snd_hda_intel\uC640 \uC720\uC0AC\uB0B4\uC6A9 \uD45C\uC2DC\uB418\uBA74 \uC124\uBE44\uB294 \uB2E4\uB978 \uB4DC\uB77C\uC774\uBC84\uC5D0 \uC810\uC720 \uB42C\uC74C\uC744 \uC758\uBBF8\uD569\uB2C8\uB2E4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>PCI\uAC00 vfio-pci\uC5D0 \uC758\uD574 \uC810\uC720\uB418\uC9C0 \uC54A\uC740 \uACBD\uC6B0 \uB2E4\uC74C \uB2E8\uACC4\uB85C \uC9C4\uD589\uD558\uACE0, vfio-pci\uC5D0 \uC758\uD574 \uC810\uC720\uB41C PCI\uAC00 \uC788\uC73C\uBA74 \uB2E4\uC74C \uB2E8\uACC4\uB97C \uAC74\uB108\uB701\uB2C8\uB2E4.</p><ul><li>ip_forward\uC804\uB2EC \uC624\uD508\uC5EC\uBD80 \uAC80\uC0AC</li></ul><p>/proc/sys/net/bridge/bridge-nf-call-iptables \uBC0F /proc/sys/net/bridge/bridge-nf-call-ip6tables \uBAA8\uB450 1\uC778\uC9C0 \uAC80\uC0AC\uD569\uB2C8\uB2E4</p><h2 id="\u3010f\u3011-\u1103\u1173\u1105\u1161\u110B\u1175\u1107\u1165-kernel-driver-in-use-vfio-pci\u110B\u1175\u11AB-\u1100\u1167\u11BC\u110B\u116E-\u1103\u1161\u110B\u1173\u11B7-\u110C\u1161\u11A8\u110B\u1165\u11B8\u110B\u1173\u11AF-\u1109\u116E\u1112\u1162\u11BC\u1112\u1161\u11AF-\u1111\u1175\u11AF\u110B\u116D\u1100\u1161-\u110B\u1165\u11B9\u1109\u1173\u11B8\u1102\u1175\u1103\u1161-\u1103\u1161\u11AB-\u1107\u1161\u110B\u1175\u11AB\u1103\u1175\u11BC-\u1109\u1175\u11AF\u1111\u1162\u1112\u1162\u11BB\u110B\u1173\u11AF\u1100\u1167\u11BC\u110B\u116E-\u1100\u1168\u1109\u1169\u11A8-\u1109\u1175\u11AF\u1112\u1162\u11BC\u1112\u1161\u1109\u1175\u11B8\u1109\u1175\u110B\u1169" tabindex="-1"><a class="header-anchor" href="#\u3010f\u3011-\u1103\u1173\u1105\u1161\u110B\u1175\u1107\u1165-kernel-driver-in-use-vfio-pci\u110B\u1175\u11AB-\u1100\u1167\u11BC\u110B\u116E-\u1103\u1161\u110B\u1173\u11B7-\u110C\u1161\u11A8\u110B\u1165\u11B8\u110B\u1173\u11AF-\u1109\u116E\u1112\u1162\u11BC\u1112\u1161\u11AF-\u1111\u1175\u11AF\u110B\u116D\u1100\u1161-\u110B\u1165\u11B9\u1109\u1173\u11B8\u1102\u1175\u1103\u1161-\u1103\u1161\u11AB-\u1107\u1161\u110B\u1175\u11AB\u1103\u1175\u11BC-\u1109\u1175\u11AF\u1111\u1162\u1112\u1162\u11BB\u110B\u1173\u11AF\u1100\u1167\u11BC\u110B\u116E-\u1100\u1168\u1109\u1169\u11A8-\u1109\u1175\u11AF\u1112\u1162\u11BC\u1112\u1161\u1109\u1175\u11B8\u1109\u1175\u110B\u1169" aria-hidden="true">#</a> \u3010F\u3011 \uB4DC\uB77C\uC774\uBC84 Kernel driver in use: vfio-pci\uC778 \uACBD\uC6B0 \uB2E4\uC74C \uC791\uC5C5\uC744 \uC218\uD589\uD560 \uD544\uC694\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4 ,\uB2E8 \uBC14\uC778\uB529 \uC2E4\uD328\uD588\uC744\uACBD\uC6B0 \uACC4\uC18D \uC2E4\uD589\uD558\uC2ED\uC2DC\uC624</h2><p>1.\uAE30\uAE30 \uBC14\uC778\uB529 \uD574\uC81C</p><p>\uB4DC\uB77C\uC774\uBC84 Kernel driver in use: vfio-pci\uC774 \uC544\uB2CC \uACBD\uC6B0 \uAE30\uAE30 \uBC14\uC778\uB529 \uD574\uC81C(\uAC01 \uADF8\uB8F9 id \uBAA8\uB450 \uBC14\uC778\uB529 \uD574\uC81C\uB418\uC5B4\uC57C \uD569\uB2C8\uB2E4. \uB2E4\uC74C\uC740 \uC608\uC81C\uC785\uB2C8\uB2E4. \uC790\uCCB4 \uAC80\uC0C9\uB41C pci \uC778\uD130\uD398\uC774\uC2A4\uC5D0 \uB530\uB77C \uC218\uC815\uD558\uC2ED\uC2DC\uC624)</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#\uB0B4\uC6A9 \uAD50\uCCB4\uC5D0 \uC8FC\uC758 \uD558\uC2ED\uC2DC\uC624, \uB2E4\uC74C \uBA85\uB839\uC740 \uB370\uBAA8\uC6A9\uC785\uB2C8\uB2E4 (\uC810\uC720\uB41C \uBAA8\uB4E0 \uADF8\uB798\uD53D \uCE74\uB4DC pci \uC778\uD130\uD398\uC774\uC2A4\uB97C \uBC14\uC778\uB529 \uD574\uC81C\uD574\uC57C\uD569\uB2C8\uB2E4)</span>
<span class="token function">sudo</span> -i
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 0000:17:00.0 <span class="token operator">&gt;</span> /sys/bus/pci/devices/0000<span class="token punctuation">\\</span>:17<span class="token punctuation">\\</span>:00.0/driver/unbind
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 0000:83:00.0 <span class="token operator">&gt;</span> /sys/bus/pci/devices/0000<span class="token punctuation">\\</span>:83<span class="token punctuation">\\</span>:00.0/driver/unbind
<span class="token function">sudo</span> modprobe vfio
<span class="token function">sudo</span> modprobe vfio-pci
<span class="token function">sudo</span> <span class="token function">reboot</span>
<span class="token comment">#\uAE30\uAE30 \uB2E4\uC2DC \uC2DC\uC791 \uBC0F GPU\uAC00 \uB2E4\uB978 OMMU\uADF8\uB8F9\uC5D0\uC11C \uBD84\uB9AC\uB418\uC600\uB294\uC9C0 \uBC0F \uD604\uC7AC \uC0AC\uC6A9\uC911\uC778 vfio \uAD6C\uB3D9\uD504\uB85C\uADF8\uB7A8\uC744 \uAC80\uC0AC\uD569\uB2C8\uB2E4</span>
<span class="token comment">#\uC2E4\uD589 \uBA85\uB839 \uAC80\uC0AC GPU\uAC00 \uB2E4\uB978 IOMMU\uADF8\uB8F9\uC5D0\uC11C \uBD84\uB9AC\uB418\uC600\uB294\uC9C0</span>
<span class="token function">find</span> /sys/kernel/iommu_groups/*/devices/*
<span class="token comment">#\uADF8\uB8F9\uD654 \uD45C\uC2DC\uB418\uBA74 \uC815\uC0C1\uC785\uB2C8\uB2E4</span>
<span class="token comment"># PCI\uB2E4\uC2DC \uAC80\uC0C9\uFF08\uAD50\uCCB4 \uC8FC\uC758\uFF09\uFF0C\uB9CC\uC57D \uC544\uC9C1\uB3C4 vfio-pci\uB85C \uAC80\uC0C9 \uD639\uC740 \uB2E4\uB978 \uB0B4\uC6A9 \uD45C\uC2DC\uB418\uBA74, \uB2E4\uC74C \uB2E8\uACC4\uB97C \uC9C4\uD589\uD558\uC2ED\uC2DC\uC624</span>
lspci -vv -s <span class="token number">17</span>:00.0 <span class="token operator">|</span> <span class="token function">grep</span> driver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.GPU\uC218\uB3D9 \uBC14\uC778\uB529</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#\uBA85\uB839\uC2E4\uD589\uD558\uC5EC \uBC14\uC778\uB529 \uC9C4\uD589 (\uC8FC\uC758\uFF1Aecho\uB4A4 \uB0B4\uC6A9\uC740 \uAE30\uAE30\uC5D0\uC11C \uAC80\uC0C9\uD55C \uADF8\uB798\uD53D \uCE74\uB4DCid\uC785\uB2C8\uB2E4 \uFF09\uC774\uBBF8 \uC810\uC720\uB41C PCI\uB294 \uCD94\uAC00 \uC218\uB3D9 \uBC14\uC778\uB529 \uD544\uC694\uC5C6\uC2B5\uB2C8\uB2E4</span>
<span class="token function">sudo</span> -i
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 10de 1e82 <span class="token operator">&gt;</span> /sys/bus/pci/drivers/vfio-pci/new_id
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 10de <span class="token number">2206</span> <span class="token operator">&gt;&gt;</span> /sys/bus/pci/drivers/vfio-pci/new_id
.\u2026\u2026\u2026\u2026

<span class="token comment">#\uBC14\uC778\uB529 \uC644\uC131\uD6C4 \uB2E4\uC2DC \uAC80\uC0AC \uFF08\uCE74\uB4DC\uBCC4 \uBAA8\uB4E0 \uD56D\uBAA9 \uAC80\uC0AC \uD544\uC694 \uFF09</span>
lspci -vv -s <span class="token number">17</span>:00.0 <span class="token operator">|</span> <span class="token function">grep</span> driver
<span class="token comment">#\uB9CC\uC57DKernel driver in use : vfio-pci \uD45C\uC2DC\uB418\uBA74,\uBC14\uC778\uB529 \uC131\uACF5\uC744 \uC758\uBBF8\uD569\uB2C8\uB2E4. \uC131\uACF5\uC548\uB42C\uC73C\uBA74 \uB2E4\uC2DC \uB3CC\uC544\uAC00\uC11C \uAC80\uC0AC\uD569\uC138\uC694</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u3010g\u3011\u1100\u1175\u1100\u1175\u1100\u1173\u1105\u1162\u1111\u1175\u11A8-\u110F\u1161\u1103\u1173\u1100\u1161-vfio-pci\u110B\u1166-\u110B\u1174\u1112\u1162-\u110C\u1165\u11B7\u110B\u1172\u1103\u116C\u1100\u1169-\u110B\u1175\u11BB\u110B\u1173\u11B7\u110B\u1173\u11AF-\u1112\u116A\u11A8\u110B\u1175\u11AB\u1112\u1161\u11AB-\u1112\u116E-libvirtd-\u1109\u1165\u1107\u1175\u1109\u1173\u1105\u1173\u11AF-\u1109\u1175\u110C\u1161\u11A8\u1112\u1161\u1100\u1169-\u1100\u1175\u1100\u1175-\u110C\u1161\u1103\u1169\u11BC-\u1109\u1175\u110C\u1161\u11A8\u110B\u1173\u11AF-\u1109\u1165\u11AF\u110C\u1165\u11BC\u1112\u1161\u11B8\u1102\u1175\u1103\u1161-\u110B\u1175-\u1109\u1165\u11AF\u110C\u1165\u11BC-\u1103\u1161\u11AB\u1100\u1168\u1102\u1173\u11AB-\u1106\u1162\u110B\u116E-\u110C\u116E\u11BC\u110B\u116D\u1112\u1161\u11B8\u1102\u1175\u1103\u1161-\u110B\u1169\u11AF\u1107\u1161\u1105\u1173\u1100\u1166-\u1100\u116E\u1109\u1165\u11BC\u1103\u116C\u110C\u1175-\u110B\u1161\u11AD\u110B\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E-\u110C\u1165\u11BC\u1112\u116A\u11A8\u1112\u1161\u11AB-\u110B\u116D\u110E\u1165\u11BC\u110B\u1173\u11AF-\u1109\u116E\u1109\u1175\u11AB\u1112\u1161\u11AF-\u1109\u116E-\u110B\u1165\u11B9\u1109\u1173\u11B8\u1102\u1175\u1103\u1161-\u1100\u1175\u1100\u1168\u110B\u1174-\u110B\u1169\u11AB\u110E\u1166\u110B\u1175\u11AB-\u1109\u1161\u11BC\u1110\u1162\u110B\u1166-\u110C\u1175\u11A8\u110C\u1165\u11B8\u110C\u1165\u11A8\u110B\u1175\u11AB-\u110B\u1167\u11BC\u1112\u1163\u11BC\u110B\u1173\u11AF-\u1106\u1175\u110E\u1175\u1100\u1169-\u110B\u1175\u11B7\u1103\u1162\u110B\u1166-\u110B\u1167\u11BC\u1112\u1163\u11BC\u110B\u1173\u11AF-\u1106\u1175\u110E\u1175\u1106\u1167-\u1109\u1169\u11AB\u1109\u1175\u11AF\u1107\u1161\u11AF\u1109\u1162\u11BC\u1112\u1161\u11B8\u1102\u1175\u1103\u1161" tabindex="-1"><a class="header-anchor" href="#\u3010g\u3011\u1100\u1175\u1100\u1175\u1100\u1173\u1105\u1162\u1111\u1175\u11A8-\u110F\u1161\u1103\u1173\u1100\u1161-vfio-pci\u110B\u1166-\u110B\u1174\u1112\u1162-\u110C\u1165\u11B7\u110B\u1172\u1103\u116C\u1100\u1169-\u110B\u1175\u11BB\u110B\u1173\u11B7\u110B\u1173\u11AF-\u1112\u116A\u11A8\u110B\u1175\u11AB\u1112\u1161\u11AB-\u1112\u116E-libvirtd-\u1109\u1165\u1107\u1175\u1109\u1173\u1105\u1173\u11AF-\u1109\u1175\u110C\u1161\u11A8\u1112\u1161\u1100\u1169-\u1100\u1175\u1100\u1175-\u110C\u1161\u1103\u1169\u11BC-\u1109\u1175\u110C\u1161\u11A8\u110B\u1173\u11AF-\u1109\u1165\u11AF\u110C\u1165\u11BC\u1112\u1161\u11B8\u1102\u1175\u1103\u1161-\u110B\u1175-\u1109\u1165\u11AF\u110C\u1165\u11BC-\u1103\u1161\u11AB\u1100\u1168\u1102\u1173\u11AB-\u1106\u1162\u110B\u116E-\u110C\u116E\u11BC\u110B\u116D\u1112\u1161\u11B8\u1102\u1175\u1103\u1161-\u110B\u1169\u11AF\u1107\u1161\u1105\u1173\u1100\u1166-\u1100\u116E\u1109\u1165\u11BC\u1103\u116C\u110C\u1175-\u110B\u1161\u11AD\u110B\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E-\u110C\u1165\u11BC\u1112\u116A\u11A8\u1112\u1161\u11AB-\u110B\u116D\u110E\u1165\u11BC\u110B\u1173\u11AF-\u1109\u116E\u1109\u1175\u11AB\u1112\u1161\u11AF-\u1109\u116E-\u110B\u1165\u11B9\u1109\u1173\u11B8\u1102\u1175\u1103\u1161-\u1100\u1175\u1100\u1168\u110B\u1174-\u110B\u1169\u11AB\u110E\u1166\u110B\u1175\u11AB-\u1109\u1161\u11BC\u1110\u1162\u110B\u1166-\u110C\u1175\u11A8\u110C\u1165\u11B8\u110C\u1165\u11A8\u110B\u1175\u11AB-\u110B\u1167\u11BC\u1112\u1163\u11BC\u110B\u1173\u11AF-\u1106\u1175\u110E\u1175\u1100\u1169-\u110B\u1175\u11B7\u1103\u1162\u110B\u1166-\u110B\u1167\u11BC\u1112\u1163\u11BC\u110B\u1173\u11AF-\u1106\u1175\u110E\u1175\u1106\u1167-\u1109\u1169\u11AB\u1109\u1175\u11AF\u1107\u1161\u11AF\u1109\u1162\u11BC\u1112\u1161\u11B8\u1102\u1175\u1103\u1161" aria-hidden="true">#</a> \u3010G\u3011\uAE30\uAE30\uADF8\uB798\uD53D \uCE74\uB4DC\uAC00 vfio-pci\uC5D0 \uC758\uD574 \uC810\uC720\uB418\uACE0 \uC788\uC74C\uC744 \uD655\uC778\uD55C \uD6C4 libvirtd \uC11C\uBE44\uC2A4\uB97C \uC2DC\uC791\uD558\uACE0 \uAE30\uAE30 \uC790\uB3D9 \uC2DC\uC791\uC744 \uC124\uC815\uD569\uB2C8\uB2E4(\uC774 \uC124\uC815 \uB2E8\uACC4\uB294 \uB9E4\uC6B0 \uC911\uC694\uD569\uB2C8\uB2E4 , \uC62C\uBC14\uB974\uAC8C \uAD6C\uC131\uB418\uC9C0 \uC54A\uC740 \uACBD\uC6B0 \uC815\uD655\uD55C \uC694\uCCAD\uC744 \uC218\uC2E0\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uAE30\uACC4\uC758 \uC628\uCCB4\uC778 \uC0C1\uD0DC\uC5D0 \uC9C1\uC811\uC801\uC778 \uC601\uD5A5\uC744 \uBBF8\uCE58\uACE0 \uC784\uB300\uC5D0 \uC601\uD5A5\uC744 \uBBF8\uCE58\uBA70 \uC190\uC2E4\uBC1C\uC0DD\uD569\uB2C8\uB2E4)</h2><p>1.virt tcp \uC218\uC2E0 (\uAC10\uCCAD)\uC11C\uBE44\uC2A4 \uD65C\uC131\uD654</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\uC124\uC815 \uD30C\uC77C \uC218\uC815\uFF1A
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/libvirt/libvirtd.conf
\uC544\uB798 \uB450\uC904 \uBABB\uCC3E\uC73C\uBA74, \uC55E\uBD80\uBD84 <span class="token comment"># \uBD80\uD638 \uC0AD\uC81C:</span>
<span class="token comment">#listen_tls = 0</span>
<span class="token comment">#listen_tcp = 1</span>

\uC774\uC904 \uCC3E\uC73C\uBA74,\uC55E\uBD80\uBD84 <span class="token comment"># \uBD80\uD638 \uC0AD\uC138 ,sasl\uC744 none\uC73C\uB85C \uC218\uC815\uFF1A</span>
<span class="token comment">#auth_tcp = &quot;sasl&quot; ======&gt; auth_tcp = &quot;none&quot;</span>

<span class="token function">sudo</span> <span class="token function">vim</span> /etc/default/libvirtd
<span class="token comment">#\uC774\uC5D0 \uB530\uAC00 \uB2E4\uC74C \uC124\uC815\uC73C\uB85C \uC218\uC815 (\uC18C\uBB38\uC790 L)</span>
<span class="token assign-left variable">libvirtd_opts</span><span class="token operator">=</span><span class="token string">&quot;-l&quot;</span>
ubuntu <span class="token number">20.04</span>\uAD00\uB828\uFF0C\uC774\uD558 \uB2E8\uACC4 \uC2E4\uD589 \uD544\uC694 \uFF1A
systemctl mask libvirtd.socket libvirtd-ro.socket libvirtd-admin.socket libvirtd-tls.socket libvirtd-tcp.socket
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.libvirtd\uB97C \uC2DC\uC791\uD558\uC5EC \uC790\uB3D9 \uC2DC\uC791 \uC124\uC815 \uBC0F \uC11C\uBE44\uC2A4 \uC0C1\uD0DC \uD655\uC778</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart libvirtd.service
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> libvirtd.service
systemctl status libvirtd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.libvirtd \uC815\uC0C1 \uC791\uB3D9 \uC131\uACF5\uC5EC\uBD80 \uD14C\uC2A4\uD2B8 \uC9C4\uD589</p><ul><li><p>virsh connect qemu+tcp://localhost:16509/system</p></li><li><p>\uCD9C\uB825 \uC798\uBABB\uC774 \uC5C6\uC744\uACBD\uC6B0 \uC791\uB3D9 \uC131\uACF5\uC744 \uC758\uB9C8\uD569\uB2C8\uB2E4 ;</p></li></ul><h2 id="\u3010h\u3011dbc\u110B\u1172\u110C\u1165-\u1109\u1162\u11BC\u1109\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u3010h\u3011dbc\u110B\u1172\u110C\u1165-\u1109\u1162\u11BC\u1109\u1165\u11BC" aria-hidden="true">#</a> \u3010H\u3011DBC\uC720\uC800 \uC0DD\uC131</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">wget</span> http://116.85.24.172:20444/static/add_dbc_user.sh
<span class="token function">sudo</span> <span class="token function">chmod</span> +x add_dbc_user.sh
<span class="token function">sudo</span> ./add_dbc_user.sh dbc
<span class="token comment">#dbc\uC720\uC800 \uBE44\uBC00\uBC88\uD638 \uC790\uCCB4 \uC124\uC815</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u3010i\u3011dbc\u1109\u1165\u11BC\u1102\u1173\u11BC\u1102\u1169\u1103\u1173-\u1111\u1173\u1105\u1169\u1100\u1173\u1105\u1162\u11B7-\u1109\u1165\u11AF\u110E\u1175" tabindex="-1"><a class="header-anchor" href="#\u3010i\u3011dbc\u1109\u1165\u11BC\u1102\u1173\u11BC\u1102\u1169\u1103\u1173-\u1111\u1173\u1105\u1169\u1100\u1173\u1105\u1162\u11B7-\u1109\u1165\u11AF\u110E\u1175" aria-hidden="true">#</a> \u3010I\u3011DBC\uC131\uB2A5\uB178\uB4DC \uD504\uB85C\uADF8\uB7A8 \uC124\uCE58</h2><ul><li><p>\uC8FC\uC758: DBC\uC720\uC800 \uC124\uCE58 \uC804\uD658 \uD544\uC694</p><p>1.dbc\uC131\uB2A5 \uB178\uB4DC \uC124\uCE58 \uC2A4\uD06C\uB9BD\uD2B8 \uB2E4\uC6B4\uB85C\uB4DC:http://119.6.235.169:9000/dbc/install_update_script/mainnet/install_mining.sh</p><p>2.\uC124\uCE58 \uC2A4\uD06C\uB9BD\uD2B8\uC5D0 \uC2E4\uD589\uAC00\uB2A5 \uAD8C\uD55C \uCD94\uAC00:\uBA85\uB839\uC904\uC5D0\uC11C \uC2E4\uD589 :chmod +x ./install_mining.sh</p><p>3.\uC124\uCE58 \uC2A4\uD06C\uB9BD\uD2B8 \uC6B4\uD589 :\uBA85\uB839\uC904\uC5D0\uC11C \uC2E4\uD589 ./install_mining.sh [\uC124\uCE58\uBAA9\uCC28] (\uC124\uCE58 \uACFC\uC815\uC911, \uC720\uC800\uAC00 2\uAC1C\uC758 \uB85C\uCEEC \uC218\uC2E0\uAC10\uCCAD \uD3EC\uD2B8 \uBC88\uD638 \uC785\uB825\uD574\uC57C\uD569\uB2C8\uB2E4)</p></li></ul><h2 id="\u3010j\u3011\u1106\u1175\u1105\u1165\u110B\u1175\u1106\u1175\u110C\u1175-\u1106\u1169\u1103\u1166\u11AF-\u1103\u1161\u110B\u116E\u11AB\u1105\u1169\u1103\u1173-data-\u1106\u1169\u11A8\u110E\u1161\u110B\u1166-\u1102\u1165\u11C2\u110B\u1173\u1106\u1167\u11AB-dbc\u1100\u1161-\u1100\u1161\u1109\u1161\u11BC-\u1100\u1175\u1100\u1175-\u1109\u1175\u110C\u1161\u11A8\u1112\u1161\u1100\u1169-data-\u1106\u1169\u11A8\u110E\u1161\u1105\u1169-\u110B\u1175\u1103\u1169\u11BC\u1112\u1161\u110B\u1167-\u1100\u1165\u11B7\u1109\u1162\u11A8\u1112\u1161\u11B8\u1102\u1175\u1103\u1161" tabindex="-1"><a class="header-anchor" href="#\u3010j\u3011\u1106\u1175\u1105\u1165\u110B\u1175\u1106\u1175\u110C\u1175-\u1106\u1169\u1103\u1166\u11AF-\u1103\u1161\u110B\u116E\u11AB\u1105\u1169\u1103\u1173-data-\u1106\u1169\u11A8\u110E\u1161\u110B\u1166-\u1102\u1165\u11C2\u110B\u1173\u1106\u1167\u11AB-dbc\u1100\u1161-\u1100\u1161\u1109\u1161\u11BC-\u1100\u1175\u1100\u1175-\u1109\u1175\u110C\u1161\u11A8\u1112\u1161\u1100\u1169-data-\u1106\u1169\u11A8\u110E\u1161\u1105\u1169-\u110B\u1175\u1103\u1169\u11BC\u1112\u1161\u110B\u1167-\u1100\u1165\u11B7\u1109\u1162\u11A8\u1112\u1161\u11B8\u1102\u1175\u1103\u1161" aria-hidden="true">#</a> \u3010J\u3011\uBBF8\uB7EC\uC774\uBBF8\uC9C0 \uBAA8\uB378 \uB2E4\uC6B4\uB85C\uB4DC(/data \uBAA9\uCC28\uC5D0 \uB123\uC73C\uBA74 dbc\uAC00 \uAC00\uC0C1 \uAE30\uAE30 \uC2DC\uC791\uD558\uACE0 /data \uBAA9\uCC28\uB85C \uC774\uB3D9\uD558\uC5EC \uAC80\uC0C9\uD569\uB2C8\uB2E4)</h2><p>http://119.6.235.169:9000/image \uB2E4\uC6B4\uB85C\uB4DC\uFF1Aubuntu.qcow2 \u548C ubuntu-2004.qcow2 \uC774\uB450\uAC1C\uC758 \uBBF8\uB7EC\uC774\uBBF8\uC9C0#</p><h2 id="\u3010k\u3011\u1100\u1175\u1100\u1175-\u110B\u1161\u110B\u1175\u1103\u1175-\u1106\u1175\u11BE-\u1100\u1162\u110B\u1175\u11AB\u110F\u1175-\u1107\u1162\u11A8\u110B\u1165\u11B8-\u1106\u1162\u110B\u116E-\u110C\u116E\u11BC\u110B\u116D\u1112\u1161\u11B8\u1102\u1175\u1103\u1161-\u1100\u1162\u110B\u1175\u11AB\u110F\u1175-\u1107\u116E\u11AB\u1109\u1175\u11AF-\u1109\u1175-\u1103\u1161\u11B7\u1107\u1169\u1103\u116C\u11AB-\u110F\u1169\u110B\u1175\u11AB\u110B\u1174-50-\u1100\u1161-\u1109\u1169\u11AB\u1109\u1175\u11AF\u1103\u116C\u1106\u1173\u1105\u1169-\u110B\u1167\u1105\u1165\u1100\u1169\u11BA\u110B\u1166-\u1107\u1162\u11A8\u110B\u1165\u11B8\u1112\u1162-\u1103\u116E\u1109\u1175\u1100\u1175-\u1107\u1161\u1105\u1161\u11B8\u1102\u1175\u1103\u1161" tabindex="-1"><a class="header-anchor" href="#\u3010k\u3011\u1100\u1175\u1100\u1175-\u110B\u1161\u110B\u1175\u1103\u1175-\u1106\u1175\u11BE-\u1100\u1162\u110B\u1175\u11AB\u110F\u1175-\u1107\u1162\u11A8\u110B\u1165\u11B8-\u1106\u1162\u110B\u116E-\u110C\u116E\u11BC\u110B\u116D\u1112\u1161\u11B8\u1102\u1175\u1103\u1161-\u1100\u1162\u110B\u1175\u11AB\u110F\u1175-\u1107\u116E\u11AB\u1109\u1175\u11AF-\u1109\u1175-\u1103\u1161\u11B7\u1107\u1169\u1103\u116C\u11AB-\u110F\u1169\u110B\u1175\u11AB\u110B\u1174-50-\u1100\u1161-\u1109\u1169\u11AB\u1109\u1175\u11AF\u1103\u116C\u1106\u1173\u1105\u1169-\u110B\u1167\u1105\u1165\u1100\u1169\u11BA\u110B\u1166-\u1107\u1162\u11A8\u110B\u1165\u11B8\u1112\u1162-\u1103\u116E\u1109\u1175\u1100\u1175-\u1107\u1161\u1105\u1161\u11B8\u1102\u1175\u1103\u1161" aria-hidden="true">#</a> \u3010K\u3011\uAE30\uAE30 \uC544\uC774\uB514 \uBC0F \uAC1C\uC778\uD0A4 \uBC31\uC5C5(\uB9E4\uC6B0 \uC911\uC694\uD569\uB2C8\uB2E4, \uAC1C\uC778\uD0A4 \uBD84\uC2E4 \uC2DC \uB2F4\uBCF4\uB41C \uCF54\uC778\uC758 50%\uAC00 \uC190\uC2E4\uB418\uBBC0\uB85C \uC5EC\uB7EC\uACF3\uC5D0 \uBC31\uC5C5\uD574 \uB450\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4)</h2><p>\uBAA9\uCC28\uC5D0 dat/node.dat \uD30C\uC77C\uC744 \uC124\uCE58 \uBC31\uC5C5\uD558\uC5EC \uC548\uC804\uD55C \uACF3\uC5D0 \uBCF4\uAD00\uD558\uC2DC\uACE0, \uCD94\uD6C4 \uB9AC\uBD80\uD305\uD558\uAC70\uB098 DBC\uB97C \uC7AC\uC124\uCE58 \uD558\uC2E4 \uACBD\uC6B0\uC5D0\uB294 \uAE30\uC874 \uC544\uC774\uB514\uC640 \uAC1C\uC778\uD0A4\uB97C \uC0AC\uC6A9\uD558\uC154\uC57C \uD558\uBA70, \uADF8\uB807\uC9C0 \uC54A\uC744 \uACBD\uC6B0 \uB2F4\uBCF4\uB41C \uCF54\uC778\uC774 \uCC28\uAC10\uB429\uB2C8\uB2E4.</p><h2 id="\u3010l\u3011\u110B\u1161\u11C1\u1107\u116E\u1107\u116E\u11AB-\u110C\u1165\u11BC\u1109\u1161\u11BC-\u1109\u1165\u11AF\u110C\u1165\u11BC-\u110B\u1167\u1107\u116E-\u1100\u1165\u11B7\u1109\u1161-\u1112\u1161\u1100\u1175-\u110B\u1171\u1112\u1162-\u1100\u1173\u1105\u1162\u1111\u1175\u11A8\u110F\u1161\u1103\u1173-\u110C\u1175\u11A8\u1110\u1169\u11BC\u110B\u1174-\u1100\u1161\u1109\u1161\u11BC\u1100\u1175\u1100\u1175-\u1109\u1162\u11BC\u1109\u1165\u11BC-\u1106\u1175\u11BE-\u1110\u1166\u1109\u1173\u1110\u1173\u1112\u1161\u11B8\u1102\u1175\u1103\u1161" tabindex="-1"><a class="header-anchor" href="#\u3010l\u3011\u110B\u1161\u11C1\u1107\u116E\u1107\u116E\u11AB-\u110C\u1165\u11BC\u1109\u1161\u11BC-\u1109\u1165\u11AF\u110C\u1165\u11BC-\u110B\u1167\u1107\u116E-\u1100\u1165\u11B7\u1109\u1161-\u1112\u1161\u1100\u1175-\u110B\u1171\u1112\u1162-\u1100\u1173\u1105\u1162\u1111\u1175\u11A8\u110F\u1161\u1103\u1173-\u110C\u1175\u11A8\u1110\u1169\u11BC\u110B\u1174-\u1100\u1161\u1109\u1161\u11BC\u1100\u1175\u1100\u1175-\u1109\u1162\u11BC\u1109\u1165\u11BC-\u1106\u1175\u11BE-\u1110\u1166\u1109\u1173\u1110\u1173\u1112\u1161\u11B8\u1102\u1175\u1103\u1161" aria-hidden="true">#</a> \u3010L\u3011\uC55E\uBD80\uBD84 \uC815\uC0C1 \uC124\uC815 \uC5EC\uBD80 \uAC80\uC0AC \uD558\uAE30 \uC704\uD574 , \uADF8\uB798\uD53D\uCE74\uB4DC \uC9C1\uD1B5\uC758 \uAC00\uC0C1\uAE30\uAE30 \uC0DD\uC131 \uBC0F \uD14C\uC2A4\uD2B8\uD569\uB2C8\uB2E4</h2><ul><li><p>\uD14C\uC2A4\uD2B8 \uD504\uB85C\uADF8\uB7A8 \uB2E4\uC6B4\uB85C\uB4DC \uC8FC\uC18C :http://119.6.235.169:9000/dbc/package/check_env</p></li><li><p>\uBC14\uC774\uB108\uB9AC \uD30C\uC77C, \uC2E4\uD589 \uAD8C\uD55C \uCD94\uAC00 \uBC0F \uC9C1\uC811 \uC2E4\uD589: chmod 777 chec_env ; ./check_env</p></li><li><p>check vm domain_test successful\uB179\uC0C9 \uD45C\uC2DC\uB418\uBA74 \uC131\uACF5 \uC758\uBBF8, \uD45C\uC2DC \uC548\uB418\uBA74 \uC55E\uBD80\uBD84 \uC124\uCE58 \uC815\uD655\uC5EC\uBD80 \uAC80\uC0AC \uD655\uC778 \uD569\uB2C8\uB2E4\u200B</p></li></ul><h2 id="\u3010m\u3011\u1100\u1175\u1100\u1175\u110B\u1174-\u1100\u1161\u11A8\u110C\u1169\u11BC-\u1112\u1161\u1103\u1173\u110B\u1170\u110B\u1175-\u1111\u1161\u1105\u1161\u1106\u1175\u1110\u1165-\u110C\u1175\u110E\u1175\u11B7-\u110C\u1165\u11BC\u1109\u1161\u11BC\u110B\u1167\u1107\u116E-\u1100\u1165\u11B7\u1109\u1161" tabindex="-1"><a class="header-anchor" href="#\u3010m\u3011\u1100\u1175\u1100\u1175\u110B\u1174-\u1100\u1161\u11A8\u110C\u1169\u11BC-\u1112\u1161\u1103\u1173\u110B\u1170\u110B\u1175-\u1111\u1161\u1105\u1161\u1106\u1175\u1110\u1165-\u110C\u1175\u110E\u1175\u11B7-\u110C\u1165\u11BC\u1109\u1161\u11BC\u110B\u1167\u1107\u116E-\u1100\u1165\u11B7\u1109\u1161" aria-hidden="true">#</a> \u3010M\u3011\uAE30\uAE30\uC758 \uAC01\uC885 \uD558\uB4DC\uC6E8\uC774 \uD30C\uB77C\uBBF8\uD130 \uC9C0\uCE68 \uC815\uC0C1\uC5EC\uBD80 \uAC80\uC0AC</h2><ul><li>\uB9CC\uC57D O\uB2E8\uACC4 \uAC80\uC0AC \uC131\uACF5\uD558\uBA74, \uD55C\uAC1C\uC758 \uAC00\uC0C1\uAE30\uAE30\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB429\uB2C8\uB2E4, ssh\uD1B5\uD574 \uB4F1\uB85D\uD558\uC5EC \uC774 \uAC00\uC0C1\uAE30\uAE30 \uB0B4\uBD80\uC5D0 \uC9C4\uC785\uD569\uB2C8\uB2E4, \uC774\uC911 : vm_local_ip\uB294 \uAC00\uC0C1\uAE30\uAE30 \uB0B4\uBD80\uB124\uD2B8\uC6CD\uC758 ip\uC8FC\uC18C\uC785\uB2C8\uB2E4\uFF0C\uC720\uC800\uB294 dbc,pwd\uD6C4\uC5D0\uB294 \uB4F1\uB85D \uBE44\uBC00\uBC88\uD638 \uC785\uB2C8\uB2E4</li></ul><img width="542" alt="1629202906(1)" src="https://user-images.githubusercontent.com/32829693/129724788-d50728cd-913b-4e91-8d0b-e53a098da091.png"><p>\uC774\uD6C4 cd \uD14C\uC2A4\uD2B8 \uC2A4\uD06C\uB9BD\uD2B8 \uBAA9\uCC28\uB85C \uC774\uB3D9, \uC6B4\uD589: \u3010pytest .\u3011\uFF0C</p><p>\u25B6cd /test/dbc_gpu_server_test/</p><p>\u25B6sudo -i (root\uC720\uC800\uB85C \uC804\uD658)</p><p>\u25B6pytest .</p><ul><li>\uCD1D 18\uD56D\uBAA9 \uD14C\uC2A4\uD2B8 :</li></ul><p>\u25B610\uD56D\uBAA9 \uC720\uB2DB \uD14C\uC2A4\uD2B8, CPU, \uBA54\uBAA8\uB9AC, \uD558\uB4DC \uB514\uC2A4\uD06C, \uADF8\uB798\uD53D \uCE74\uB4DC, \uBE44\uB514\uC624 \uBA54\uBAA8\uB9AC, cuda \uC0AC\uC6A9\uC131 \uB4F1 \uD14C\uC2A4\uD2B8;</p><p>\u25B67\uD56D\uBAA9 \uD1B5\uD569 \uD14C\uC2A4\uD2B8, \uB2E4\uC591\uD55C \uC2E4\uC81C \uC0AC\uC6A9 \uC870\uAC74(\uC608: pytorch \uCEF4\uD4E8\uD305, \uAD50\uC721 \uBC0F \uCD94\uB860)\uC774 \uC815\uC0C1\uC801\uC778\uC9C0 \uD14C\uC2A4\uD2B8\uD558\uACE0 \uC7A0\uC7AC\uC801\uC778 \uD558\uB4DC\uC6E8\uC5B4 \uC624\uB958 \uC81C\uAC70;</p><p>\u25B61\uD56D\uBAA9 \uBCA4\uCE58\uB9C8\uD06C \uC18D\uB3C4\uD14C\uC2A4\uD2B8,\uC5F4\uBA87\uAC00\uC9C0\uC758 CNN\uB124\uD2B8\uC6CD \uD6C8\uB828 \uBC0F \uCD94\uB860 \uD14C\uC2A4\uD2B8,10\uBD84\uB3D9\uC548 \uC9C0\uC18D;</p><p>\u25B6 \uBE68\uAC04\uC0C9 \uC624\uB958\uAC00 \uC5C6\uC73C\uBA74 \uD1B5\uACFC\uD558\uACE0 \uBE68\uAC04\uC0C9 F / \uC624\uB958\uAC00 \uC788\uC73C\uBA74 \uC624\uB958\uC5D0 \uD574\uB2F9\uD558\uB294 \uD14C\uC2A4\uD2B8 \uD56D\uBAA9\uC774 \uD45C\uC2DC\uB418\uBA70 \uC815\uBCF4\uC5D0 \uB530\uB77C \uD655\uC778 \uAC00\uB2A5;</p><p>\u25B62080ti \uCE74\uB4DC 4\uAC1C\uC758 \uC804\uCCB4 \uD14C\uC2A4\uD2B8 \uACFC\uC815\uC740 \uC57D 10\uBD84 \uC815\uB3C4 \uC18C\uC694\uB418\uBA70, \uD14C\uC2A4\uD2B8 \uC2DC\uAC04 \uB108\uBB34 \uAE38\uACE0 30\uBD84 \uC774\uC0C1\uCD08\uACFC\uC2DC \uAE30\uAE30\uC5D0 \uBB38\uC81C\uAC00 \uC788\uC744 \uC218 \uC788\uC73C\uBA70 \uD14C\uC2A4\uD2B8\uAC00 \uC0AC\uC804\uC5D0 \uC885\uB8CC\uB420 \uC218 \uC788\uC2B5\uB2C8\uB2E4. (\uC885\uB8CC\uB418\uC9C0 \uC54A\uC740 \uACBD\uC6B0 \uD14C\uC2A4\uD2B8\uAC00 \uC644\uB8CC\uB41C \uD6C4 \uC624\uB958\uAC00 \uBCF4\uACE0\uB429\uB2C8\uB2E4);</p><p>\u25B6\uD14C\uC2A4\uD2B8 \uACB0\uACFC\uC5D0\uC11C short test summary info: \uBAA8\uB450 \uD1B5\uACFC\uD558\uBA74 \uD14C\uC2A4\uD2B8\uAC00 \uD1B5\uACFC\uB418\uC5C8\uC74C\uC744 \uC758\uBBF8\uD558\uACE0 \uD55C \uD56D\uBAA9\uC774 \uC2E4\uD328\uD560 \uACBD\uC6B0 \uD14C\uC2A4\uD2B8\uAC00 \uC2E4\uD328\uD588\uC74C\uC744 \uC758\uBBF8\uD558\uBA70 \uACE0\uC7A5\uC744 \uD655\uC778\uD574\uC57C \uD569\uB2C8\uB2E4;</p><p>\u25B6\uC885\uB8CC \uD6C4 \uACB0\uACFC \uD3F4\uB354 \uC0DD\uC131 \uBC0F \uC131\uB2A5 \uBCF4\uACE0\uC11C \uB0B4\uBCF4\uB0B4\uAE30;</p><ul><li><p>\uD638\uC2A4\uD2B8 \uAE30\uAE30\uB85C \uB3CC\uC544\uAC00 \uD14C\uC2A4\uD2B8\uD55C \uAC00\uC0C1 \uAE30\uAE30\uB97C \uC885\uB8CC\uD558\uACE0 \uC0AD\uC81C\uD569\uB2C8\uB2E4\uFF1A./check_env --localip x.x.x.x \uFF08x.x.x.x\uB294 \uAC00\uC0C1\uAE30\uAE30 \uB0B4\uBD80 \uB124\uD2B8\uC6CD ip\uC8FC\uC18C\uC785\uB2C8\uB2E4,\uC774\uB2E8\uACC4 \uC9C4\uD589 \uC548\uD560\uACBD\uC6B0, dbc\uD504\uB85C\uADF8\uB7A8\uC5D0\uC11C \uC0C8\uB85C\uC6B4 \uAC00\uC0C1\uAE30\uAE30 \uC791\uB3D9\uC774 \uBD88\uAC00\uD569\uB2C8\uB2E4, \uD558\uC5EC \uBA54\uC778\uB137 \uC62C\uB9B4\uC218 \uC5C6\uC73C\uBA70 \uAC80\uC99D\uB3C4 \uBABB\uBC1B\uC2B5\uB2C8\uB2E4 )</p></li><li><p>iptable\uBA85\uB839 \uC2E4\uD589\uFF0C\uAE30\uAE30 \uB124\uD2B8\uC6CD \uBC29\uBB38 \uAD8C\uD55C \uC624\uD508:\uFF08\uC774\uB2E8\uACC4 \uC9C4\uD589 \uC548\uD560\uACBD\uC6B0, \uC678\uBD80\uC5D0\uC11C \uAC00\uC0C1\uAE30\uAE30 \uBC29\uBB38 \uBD88\uAC00\uC785\uB2C8\uB2E4 )</p><p>\u25B6iptables -D LIBVIRT_FWI 2 -t filter</p></li></ul><p>\u25B6iptables -D LIBVIRT_FWO 2 -t filter</p><h2 id="\u3010n\u3011\u1100\u1175\u1100\u1175\u1100\u1161-\u110F\u1165\u11B7\u1111\u1172\u1110\u1175\u11BC-\u1102\u1166\u1110\u1173\u110B\u116F\u110F\u1173\u110B\u1166-\u110C\u1165\u11BC\u1109\u1161\u11BC\u110C\u1165\u11A8\u110B\u1173\u1105\u1169-\u110B\u1167\u11AB\u1100\u1167\u11AF\u1103\u116C\u110B\u1165\u11BB\u1102\u1173\u11AB\u110C\u1175-\u1112\u116A\u11A8\u110B\u1175\u11AB\u1112\u1161\u11B8\u1102\u1175\u1103\u1161" tabindex="-1"><a class="header-anchor" href="#\u3010n\u3011\u1100\u1175\u1100\u1175\u1100\u1161-\u110F\u1165\u11B7\u1111\u1172\u1110\u1175\u11BC-\u1102\u1166\u1110\u1173\u110B\u116F\u110F\u1173\u110B\u1166-\u110C\u1165\u11BC\u1109\u1161\u11BC\u110C\u1165\u11A8\u110B\u1173\u1105\u1169-\u110B\u1167\u11AB\u1100\u1167\u11AF\u1103\u116C\u110B\u1165\u11BB\u1102\u1173\u11AB\u110C\u1175-\u1112\u116A\u11A8\u110B\u1175\u11AB\u1112\u1161\u11B8\u1102\u1175\u1103\u1161" aria-hidden="true">#</a> \u3010N\u3011\uAE30\uAE30\uAC00 \uCEF4\uD4E8\uD305 \uB124\uD2B8\uC6CC\uD06C\uC5D0 \uC815\uC0C1\uC801\uC73C\uB85C \uC5F0\uACB0\uB418\uC5C8\uB294\uC9C0 \uD655\uC778\uD569\uB2C8\uB2E4</h2><ul><li>\uD074\uB77C\uC774\uC5B8\uD2B8 \uB178\uB4DC\uB97C \uAD6C\uCD95\uD558\uAE30\uC704\uD55C \uCEF4\uD4E8\uD305 \uD480\uC740 \uB2E4\uC74C\uC744 \uCC38\uC870\uD558\uC2ED\uC2DC\uC624 :install_update_dbc_client_cn.md</li></ul><ul><li><p>1\uBD84 \uD6C4 \uD074\uB77C\uC774\uC5B8\uD2B8\uB97C \uD1B5\uD574 \uAE30\uACC4 \uC815\uBCF4\uB97C \uC694\uCCAD\uD569\uB2C8\uB2E4. \uAE30\uACC4 \uC815\uBCF4\uB97C \uCC3E\uC744 \uC218 \uC788\uC73C\uBA74 \uAE30\uACC4\uAC00 \uB124\uD2B8\uC6CC\uD06C\uC5D0 \uC5F0\uACB0\uB41C \uAC83\uC785\uB2C8\uB2E4. \uAE30\uACC4 \uC815\uBCF4\uB97C \uC694\uCCAD\uD558\uB824\uBA74 \uB2E4\uC74C\uC744 \uCC38\uC870\uD558\uC2ED\uC2DC\uC624:dbc_client_http_api</p></li><li><p>\uD074\uB77C\uC774\uC5B8\uD2B8 \uB178\uB4DC \uAD00\uB828:\uAC01 \uCEF4\uD4E8\uD305\uD480\uC740 2\uAC1C \uC774\uC0C1\uC758 \uD074\uB77C\uC774\uC5B8\uD2B8 \uB178\uB4DC\uB97C \uAD6C\uCD95\uD558\uC5EC \uC8FC\uC8FC\uCD5C\uCE21 \uB610\uB294 \uB2E4\uB978 \uCEF4\uD4E8\uD305 \uD480\uC5D0\uC11C \uC81C\uACF5\uD558\uB294 \uB178\uB4DC\uAC00 \uC624\uD504\uB77C\uC778 \uC0C1\uD0DC\uC77C\uC9C0\uB77C\uB3C4 \uB124\uD2B8\uC6CC\uD06C\uAC00 \uC815\uC0C1\uC784\uC744 \uBCF4\uC7A5\uD560 \uAC83\uC744 \uAD8C\uC7A5\uD569\uB2C8\uB2E4.\uB9CC\uC57D \uB124\uD2B8\uC6CD\uC911 \uD074\uB77C\uC774\uC5B8\uD2B8 \uB178\uB4DC\uAC00 \uB108\uBB34 \uC801\uC5B4 \uD639\uC740 \uC790\uC8FC \uC624\uD504\uC0C1\uD0DC\uC77C\uACBD\uC6B0, \uAE30\uAE30 \uC784\uB300\uC5D0 \uC601\uD5A5\uC744 \uBBF8\uCE69\uB2C8\uB2E4.\uD074\uB77C\uC774\uC5B8\uD2B8 \uB178\uB4DC \uAD6C\uCD95\uC740 \uB2E4\uB978 \uC11C\uBC84\uC758 \uCEE8\uD14C\uC774\uB108 \uC791\uB3D9\uC73C\uB85C \uC9C4\uD589\uD560\uC218\uC788\uC73C\uBA70, \uB9CE\uC740 \uB9AC\uC18C\uC2A4\uB97C \uCC28\uC9C0\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.</p></li></ul><ul><li>\uD074\uB77C\uC774\uC5B8\uD2B8 \uB178\uB4DC\uB294 \uCEF4\uD4E8\uD305 \uD30C\uC6CC \uB178\uB4DC\uC640 \uB3D9\uC77C \uAE30\uAE30\uC5D0 \uBC30\uD3EC\uD560 \uC218 \uC788\uC73C\uBBC0\uB85C \uAC01 \uB178\uB4DC\uC758 conf/core.conf \uC124\uC815 \uD30C\uC77C\uC5D0\uC11C \uD3EC\uD2B8 \uBC88\uD638\uB97C \uC911\uBCF5\uB418\uC9C0 \uC54A\uB3C4\uB85D \uC8FC\uC758\uD558\uC2ED\uC2DC\uC624.</li></ul><h2 id="\u3010o\u3011\u1100\u1175\u1100\u1175-\u110B\u1169\u11AB\u110E\u1166\u110B\u1175\u11AB" tabindex="-1"><a class="header-anchor" href="#\u3010o\u3011\u1100\u1175\u1100\u1175-\u110B\u1169\u11AB\u110E\u1166\u110B\u1175\u11AB" aria-hidden="true">#</a> \u3010O\u3011\uAE30\uAE30 \uC628\uCCB4\uC778</h2><p>https://github.com/DeepBrainChain/DBC-DOC/blob/master/chain_ops/bonding_machine.md#%E6%9C%BA%E5%99%A8%E4%B8%8A%E7%BA%BF%E6%AD%A5%E9%AA%A4</p>`,100),p=[t];function o(l,c){return s(),a("div",null,p)}var u=n(i,[["render",o],["__file","install-dbc-compute-node.html.vue"]]);export{u as default};
